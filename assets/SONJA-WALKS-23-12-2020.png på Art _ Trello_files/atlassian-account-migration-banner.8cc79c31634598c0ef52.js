(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less":function(t,e,n){var a=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);t.exports=r.locals||{}},"./app/src/components/AtlassianAccountMigrationPrompt/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"AtlassianAccountMigrationPrompt",(function(){return h}));var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./app/src/components/AtlassianAccountMigrationStage/index.ts"),i=n("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationQuery.generated.tsx"),s=n("./app/src/components/Overlay/index.ts"),c=n("./packages/use-lazy-component/index.ts"),l=n("./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less"),u=n.n(l);function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function p(t,e,n,a,r,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,r)}var f={createAa:{full:n("./resources/images/email-hygiene-wizard/illustration-atlassian.svg"),mobile:n("./resources/images/email-hygiene-wizard/illustration-atlassian-mobile.svg")}},g=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(e);case 2:if(!(null==(n=t.sent)?void 0:n.ok)){t.next=5;break}return t.abrupt("return",n.text());case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){p(o,a,r,i,s,"next",t)}function s(t){p(o,a,r,i,s,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}(),A=new Map,y=function(t){var e=A.get(t);if(e)return e;var n=document.createElement("div");return n.className=u.a.illustration,A.set(t,n),g(t).then((function(t){t&&(n.innerHTML=t)})),n},h=function(t){var e=t.prompt,l=m(Object(a.useState)(!1),2),u=l[0],d=l[1],p=m(Object(a.useState)(!1),2),g=p[0],A=p[1],h=Object(o.useAtlassianAccountMigrationStage)(),b=h.stage,v=h.refetchStage,w=Object(i.a)({variables:{memberId:"me"}}),j=w.data&&w.data.member;Object(a.useEffect)((function(){d("migrate"===e&&Object(o.isStageActionable)(b)),A("create"===e)}),[b,e]);var x=Object(c.useLazyComponent)((function(){return n.e(9).then(n.bind(null,"./app/src/components/AtlassianAccountMigrationPrompt/CreateAaDisplay.tsx"))}),{namedImport:"CreateAaDisplay",preload:g}),M=function(){A(!1);var t=new URLSearchParams(window.location.search);t.delete("showAaMigrate");var e=t.toString();window.history.replaceState({},document.title,"".concat(window.location.origin).concat(window.location.pathname)+(e?"?".concat(e):""))};return j?r.a.createElement(r.a.Fragment,null,g&&r.a.createElement(s.a,{background:s.c.LIGHT,closeOnEscape:!1,onClose:M,alignment:s.b.TOP},r.a.createElement(x,{closeDialog:M,image:y(f.createAa.full),mobileImage:y(f.createAa.mobile),currentTrelloEmail:(null==j?void 0:j.email)||""})),u&&r.a.createElement(o.AtlassianAccountMigrationStageOverlay,{stage:b,attributes:{stage:b,origin:"accountSwitcherUpdateLink"},onComplete:function(){d(!1),v()},onDismiss:function(){return d(!1)}})):null}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigrationPrompt/AtlassianAccountMigrationPrompt.less":function(t,e,n){(e=t.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,"@media only screen and (max-width:1020px){._1hj2hfec4m0Ryi{width:100%;min-width:375px}}",""]),e.locals={illustration:"_1hj2hfec4m0Ryi"}}}]);
//# sourceMappingURL=atlassian-account-migration-banner.8cc79c31634598c0ef52.js.map