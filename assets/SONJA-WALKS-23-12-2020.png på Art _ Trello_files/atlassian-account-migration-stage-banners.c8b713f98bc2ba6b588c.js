(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"./app/gamma/src/util/dates.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./app/common/lib/util/i18n/index.ts"),i=a("./node_modules/moment/moment.js"),r=a.n(i),o=Object(t.forNamespace)(),s=function(e,n){var a=r()(e),t=r()(n);return a.isSame(t,"day")?Math.abs(t.diff(e,"seconds"))<10?o("just now"):a.from(n):a.calendar(n)}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationAlertContainer.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s})),a.d(n,"b",(function(){return l})),a.d(n,"c",(function(){return m}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./app/common/lib/util/i18n/index.ts"),o=a("./app/gamma/src/components/alert/index.tsx"),s="aaMigrationAlerts",l="aaMigrationGenericAlert",c=Object(r.forNamespace)(["aa migration wizard","banner"],{shouldEscapeStrings:!1}),m=function(){return i.a.createElement(o.a,{displayType:"error",area:s,name:l},c("something-went-wrong"))}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.tsx":function(e,n,a){"use strict";a.d(n,"b",(function(){return j})),a.d(n,"a",(function(){return O}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/atlassian-analytics/index.ts"),o=a("./packages/colors/index.ts"),s=a("./packages/feature-flag-client/index.ts"),l=a("./packages/use-lazy-component/index.ts"),c=a("./app/common/lib/util/i18n/index.ts"),m=a("./app/common/components/banner/banner.tsx"),u=a("./app/src/components/Overlay/index.ts"),d=a("./app/src/components/EmailHygieneWizard/useSnooze.ts"),p=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationErrorCodes.ts"),g=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationAlertContainer.tsx"),f=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationQuery.generated.tsx"),b=a("./app/src/components/AtlassianAccountMigration/getQueryParameter.ts"),v=a("./app/src/components/AtlassianAccountMigration/removeQueryParameters.ts"),y=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.less"),h=a.n(y);function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var x,A="success"===Object(b.a)("onboarding"),_=Object(c.forNamespace)(["aa migration wizard","banner"],{shouldEscapeStrings:!1}),j=/[?&]forceMigration=true/i,w=function(e){var n=e.children;return i.a.createElement(u.a,{background:u.c.LIGHT,closeOnEscape:!1,onClose:function(){},alignment:u.b.TOP},i.a.createElement(t.Suspense,{fallback:null},n))},O=function(e){var n=e.forceShow,c=Object(l.useLazyComponent)((function(){return a.e(10).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationError.tsx"))})),u=Object(l.useLazyComponent)((function(){return a.e(8).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.tsx"))})),y=Object(l.useLazyComponent)((function(){return a.e(11).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationWizard.tsx"))})),E=k(Object(t.useState)(null),2),j=E[0],O=E[1],S=k(Object(t.useState)(!1),2),N=S[0],C=S[1],I=k(Object(t.useState)(!1),2),M=I[0],z=I[1],D=k(Object(t.useState)(A),2),H=D[0],T=D[1],L=Object(s.useFeatureFlag)("aa4a.show-email-hygiene",!1),F=Object(s.useFeatureFlag)("aa4a.peh-snooze-time",0),B=Object(d.a)("peh-snooze",F),R=B.isSnoozed,P=B.snooze,W=Object(f.a)({variables:{memberId:"me"}}),V=W.data&&W.data.member;Object(t.useEffect)((function(){var e=Object(b.a)("onboarding"),n=e&&Object(p.b)(e);n&&O(n)}),[]);var G=Object(t.useCallback)((function(){Object(v.a)("onboarding"),O(null)}),[]);Object(t.useEffect)((function(){V&&(R?(C(!1),z(!1)):(n||L)&&(C(!0),z(!0)))}),[V,n,L,R]);var U,Q,K=Object(t.useCallback)((function(){W.refetch(),z(!0)}),[W]),q=Object(t.useCallback)((function(){K(),r.Analytics.sendClickedLinkEvent({linkName:"atlassianAccountMigrationBannerLink",source:"atlassianAccountMigrationBanner",attributes:x})}),[K]),Z=Object(t.useCallback)((function(){Object(v.a)("onboarding"),T(!1),z(!1),r.Analytics.sendClosedComponentEvent({componentType:"overlay",componentName:"atlassianAccountMigrationOverlay",source:"atlassianAccountMigrationBanner",attributes:x})}),[]),X=Object(t.useCallback)((function(){P(),r.Analytics.sendClickedLinkEvent({linkName:"atlassianAccountMigrationBannerDismissLink",source:"atlassianAccountMigrationBanner",attributes:x})}),[P]);!x&&V&&(x={organizationId:null,totalEmailAddresses:null===(U=V.logins)||void 0===U?void 0:U.length,totalClaimableEmailAddresses:null===(Q=V.logins)||void 0===Q?void 0:Q.filter((function(e){return e.claimable})).length});Object(t.useEffect)((function(){N&&r.Analytics.sendViewedBannerEvent({bannerName:"atlassianAccountMigrationBanner",source:Object(r.getScreenFromUrl)(),attributes:x})}),[N]);var J,Y;return i.a.createElement("div",null,N&&(null==V?void 0:V.fullName)&&!(null==V?void 0:V.isAaMastered)?i.a.createElement(m.a,{className:h.a.banner,bannerColor:o.N800},i.a.createElement("p",{className:h.a.text},i.a.createElement("span",{role:"img","aria-label":""},"ðŸ‘‹"),_("main-message",{name:V.fullName}),i.a.createElement("a",{href:"#",className:h.a.updateLink,onClick:function(e){e.preventDefault(),q()}},_("link-text")),F>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:h.a.linkSeparator},"Â·"),i.a.createElement("a",{href:"#",className:h.a.dismissLink,onClick:function(e){e.preventDefault(),X()}},_("snooze-link-text"))))):null,i.a.createElement(i.a.Fragment,null,i.a.createElement(g.c,null),j?i.a.createElement(w,null,i.a.createElement(c,{code:j,onRetry:K,onDismiss:G})):null),M&&(null==V?void 0:V.email)&&!(null==V?void 0:V.isAaMastered)?i.a.createElement(w,null,i.a.createElement(y,{analyticsContext:x,onDismiss:Z,hasTwoFactor:!!(null===(J=V.prefs)||void 0===J||null===(Y=J.twoFactor)||void 0===Y?void 0:Y.enabled),email:V.email})):null,(null==V?void 0:V.isAaMastered)&&H?i.a.createElement(w,null,i.a.createElement(u,{id:(null==V?void 0:V.id)||"",name:(null==V?void 0:V.fullName)||"",email:(null==V?void 0:V.email)||"",onDismiss:Z,analyticsContext:x})):null)}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBannerV2.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBannerV2.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationClient.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return l}));var t=a("./app/gamma/src/api/index.ts"),i=a("./packages/config/index.ts");function r(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function o(e){return function(){var n=this,a=arguments;return new Promise((function(t,i){var o=e.apply(n,a);function s(e){r(o,t,i,s,l,"next",e)}function l(e){r(o,t,i,s,l,"throw",e)}s(void 0)}))}}function s(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}var l=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a,r,l,c;return n=e,a=null,r=[{key:"migrate",value:(c=o(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.a.client.rest.post("members/me/atlassianAccount/migrate",{body:{returnUrl:"".concat(window.location.pathname,"?onboarding=success")}});case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return c.apply(this,arguments)})},{key:"fetchAccountsInfo",value:(l=o(regeneratorRuntime.mark((function e(){var n,a,r,o,s,l,c,m,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.a.client.rest.get("members/me",{query:{fields:"email",logins:!0}}),s=null,e.prev=2,e.next=5,fetch("".concat(i.atlassianApiGateway,"gateway/api/me"),{credentials:"include"});case 5:if((l=e.sent).ok){e.next=8;break}throw new Error("Invalid response status code: ".concat(l.status));case 8:return e.next=10,l.json();case 10:s=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error("Failed to fetch Atlassian account",{err:e.t0});case 16:return e.next=18,o;case 18:return c=e.sent,m=null==c||null===(n=c.logins)||void 0===n?void 0:n.find((function(e){return e.primary})),u=null!==(a=null==m?void 0:m.id)&&void 0!==a?a:"",e.abrupt("return",{atlassian:{email:null===(r=s)||void 0===r?void 0:r.email},trello:{email:c.email,loginId:u}});case 22:case"end":return e.stop()}}),e,null,[[2,13]])}))),function(){return l.apply(this,arguments)})}],a&&s(n.prototype,a),r&&s(n,r),e}()},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return z}));var t,i=a("./node_modules/react/index.js"),r=a.n(i),o=a("./packages/atlassian-analytics/index.ts"),s=a("./app/src/components/Wizard/index.ts"),l=a("./app/common/lib/util/i18n/index.ts"),c=a("./packages/nachos/button.ts"),m=a("./app/src/components/AtlassianAccountMigration/InAppMigrationCreateDialog.less"),u=a.n(m),d=Object(l.forNamespace)(["aa migration wizard","in app migration","create"],{shouldEscapeStrings:!1}),p=function(e){var n=e.closeDialog,a=e.image,t=e.mobileImage,i=e.warning,o=e.migrationUrl,l=e.onKeyPressCapture,m=e.email;return r.a.createElement(s.a,{title:d("title"),tip:r.a.createElement(r.a.Fragment,null,d("tip-text",{jiraLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/jira",key:"jira-link",target:"_blank"},"Jira"),confluenceLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/confluence",key:"confluence-link",target:"_blank"},"Confluence")})),closeDialog:n,isCentered:!1,image:a,mobileImage:t,onKeyPressCapture:l},r.a.createElement("div",{className:u.a.content},r.a.createElement("div",{className:u.a.description},r.a.createElement("p",null,d("main-message")),r.a.createElement("p",null,d("secondary-message")),r.a.createElement("p",null,d("tertiary-message",{email:r.a.createElement("strong",{className:u.a.breakable,key:"email-main"},m)})),!!i&&i),r.a.createElement("div",{className:u.a.buttons},r.a.createElement(c.a,{appearance:"primary",onClick:function(){return window.location.href=o}},d("button-text")))))},g=a("./app/src/components/AtlassianAccountMigration/InAppMigrationLoginDialog.less"),f=a.n(g),b=Object(l.forNamespace)(["aa migration wizard","in app migration","login"],{shouldEscapeStrings:!1}),v=function(e){var n=e.closeDialog,a=e.image,t=e.mobileImage,i=e.warning,o=e.migrationUrl,l=e.onKeyPressCapture,m=e.email;return r.a.createElement(s.a,{title:b("title",{email:m}),tip:r.a.createElement(r.a.Fragment,null,b("tip-text",{jiraLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/jira",key:"jira-link",target:"_blank"},"Jira"),confluenceLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/confluence",key:"confluence-link",target:"_blank"},"Confluence")})),closeDialog:n,isCentered:!1,image:a,mobileImage:t,onKeyPressCapture:l},r.a.createElement("div",{className:f.a.content},r.a.createElement("div",{className:f.a.description},r.a.createElement("p",null,b("main-message",{email:r.a.createElement("strong",{className:f.a.breakable,key:"email-main"},m)})),r.a.createElement("p",null,b("secondary-message",{yourProfileLink:b("your-profile-link")})),!!i&&i),r.a.createElement("div",{className:f.a.buttons},r.a.createElement(c.a,{appearance:"primary",onClick:function(){return window.location.href=o}},b("button-text")))))},y=a("./packages/nachos/spinner.ts"),h=a("./app/src/components/AtlassianAccountMigration/InAppMigrationLoading.less"),k=a.n(h),E=Object(l.forNamespace)(["aa migration wizard","in app migration","create"],{shouldEscapeStrings:!1}),x=function(e){var n=e.closeDialog,a=e.image,t=e.mobileImage;return r.a.createElement(s.a,{title:"",tip:r.a.createElement(r.a.Fragment,null,E("tip-text",{jiraLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/jira",key:"jira-link",target:"_blank"},"Jira"),confluenceLink:r.a.createElement("a",{href:"https://www.atlassian.com/software/confluence",key:"confluence-link",target:"_blank"},"Confluence")})),closeDialog:n,isCentered:!1,image:a,mobileImage:t},r.a.createElement("div",{className:k.a.content},r.a.createElement(y.a,{centered:!0})))},A=a("./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.tsx"),_=a("./app/src/components/AtlassianAccountMigration/TwoFactorWarning.less"),j=a.n(_),w=Object(l.forNamespace)(["aa migration wizard","warning"],{shouldEscapeStrings:!1}),O=function(){return r.a.createElement("div",{className:j.a.twoFactorWarning},r.a.createElement("p",null,w("two-factor")))},S=a("./app/src/components/AtlassianAccountMigration/fetchIllustration.ts"),N=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.less"),C=a.n(N),I={main:{full:a("./resources/images/aa-migration-wizard/illustration-main.svg"),mobile:a("./resources/images/aa-migration-wizard/illustration-main-mobile.svg")},email:{full:a("./resources/images/aa-migration-wizard/illustration-email.svg"),mobile:a("./resources/images/aa-migration-wizard/illustration-email-mobile.svg")}};!function(e){e.LOG_IN="logIn",e.CREATE_ACCOUNT="createAccount",e.CHECK_INBOX="checkInbox"}(t||(t={}));var M=function(e){switch(e){case t.CHECK_INBOX:return"aaMigrationWizardCheckInboxScreen";case t.CREATE_ACCOUNT:return"aaMigrationWizardCreateScreen";case t.LOG_IN:return"aaMigrationWizardLogInScreen";default:return"unknown"}},z=function(e){var n,a=e.email,s=e.hasTwoFactor,l=e.changeEmailButton,c=e.onDismiss,m=e.analyticsContext,u=e.migrationResponse,d=e.getSource,g=void 0===d?M:d;Object(i.useEffect)((function(){Object(S.a)(I.main.full,C.a.illustration),Object(S.a)(I.email.full,C.a.illustration),Object(S.a)(I.main.mobile,C.a.illustration),Object(S.a)(I.email.mobile,C.a.illustration)}));var f=g(n=(null==u?void 0:u.aaExists)?t.LOG_IN:(null==u?void 0:u.emailVerificationRequired)?t.CHECK_INBOX:t.CREATE_ACCOUNT);Object(i.useEffect)((function(){o.Analytics.sendScreenEvent({name:f,attributes:m})}),[f,m]);var b=Object(i.useCallback)((function(){c(),o.Analytics.sendClosedComponentEvent({componentType:"overlay",componentName:"emailHygieneWizard",source:f,attributes:m})}),[c,f,m]),y=s?r.a.createElement(O,null):void 0;if(!u)return r.a.createElement(x,{closeDialog:b,image:Object(S.a)(I.main.full,C.a.illustration),mobileImage:Object(S.a)(I.main.mobile,C.a.illustration)});switch(n){case t.LOG_IN:return r.a.createElement(v,{closeDialog:b,migrationUrl:u.redirect_url,warning:y,image:Object(S.a)(I.main.full,C.a.illustration),mobileImage:Object(S.a)(I.main.mobile,C.a.illustration),email:a});case t.CREATE_ACCOUNT:return r.a.createElement(p,{closeDialog:b,migrationUrl:u.redirect_url,warning:y,image:Object(S.a)(I.main.full,C.a.illustration),mobileImage:Object(S.a)(I.main.mobile,C.a.illustration),email:a});case t.CHECK_INBOX:return r.a.createElement(A.a,{email:a,changeEmailButton:l,closeDialog:b,warning:y,image:Object(S.a)(I.email.full,C.a.illustration),mobileImage:Object(S.a)(I.email.mobile,C.a.illustration)});default:return null}};n.b=z},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationErrorCodes.ts":function(e,n,a){"use strict";var t;function i(e){switch(e){case"emailMismatchError":return t.EMAIL_MISMATCH;default:return null}}a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return i})),function(e){e.EMAIL_MISMATCH="EMAIL_MISMATCH"}(t||(t={}))},"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationQuery.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AtlassianAccountMigration"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAaMastered"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimable"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twoFactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}}]}}]}}]};function r(e){return t.c(i,e)}},"./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return u}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/button.ts"),o=a("./app/common/lib/util/i18n/index.ts"),s=a("./app/src/components/Wizard/index.ts"),l=a("./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.less"),c=a.n(l),m=Object(o.forNamespace)(["aa migration wizard","email migration"],{shouldEscapeStrings:!1}),u=function(e){var n=e.email,a=e.closeDialog,t=e.warning,o=e.changeEmailButton,l=e.image,u=e.mobileImage;return i.a.createElement(s.a,{closeDialog:a,title:m("title"),image:l,mobileImage:u},i.a.createElement("div",{className:c.a.content},i.a.createElement("div",{className:c.a.description},i.a.createElement("p",{className:c.a.mainMessage},m("main-message",{email:i.a.createElement("strong",{key:"email"},n)})),i.a.createElement("p",null,m("secondary-message")),!!t&&t),i.a.createElement("div",{className:c.a.buttons},i.a.createElement(r.a,{appearance:"primary",onClick:a},m("button-text")),!!o&&o)))}},"./app/src/components/AtlassianAccountMigration/InAppMigrationCreateDialog.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationCreateDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/InAppMigrationLoading.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationLoading.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/InAppMigrationLoginDialog.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationLoginDialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/TwoFactorWarning.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/TwoFactorWarning.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountMigration/fetchIllustration.ts":function(e,n,a){"use strict";function t(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}a.d(n,"a",(function(){return o}));var i=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(n);case 2:if(!(null==(a=e.sent)?void 0:a.ok)){e.next=5;break}return e.abrupt("return",a.text());case 5:case"end":return e.stop()}}),e)})),function(){var n=this,a=arguments;return new Promise((function(i,r){var o=e.apply(n,a);function s(e){t(o,i,r,s,l,"next",e)}function l(e){t(o,i,r,s,l,"throw",e)}s(void 0)}))});return function(e){return n.apply(this,arguments)}}(),r=new Map,o=function(e,n){var a=r.get(e);if(a)return a;var t=document.createElement("div");return t.className=n,r.set(e,t),i(e).then((function(e){e&&(t.innerHTML=e)})),t}},"./app/src/components/AtlassianAccountMigration/getQueryParameter.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(e){return new URLSearchParams(window.location.search).get(e)}},"./app/src/components/AtlassianAccountMigration/index.ts":function(e,n,a){"use strict";a.r(n),a.d(n,"AtlassianAccountMigrationAlertContainer",(function(){return t.c})),a.d(n,"AA_MIGRATION_ALERT_AREA",(function(){return t.a})),a.d(n,"AA_MIGRATION_ALERT_GENERIC",(function(){return t.b})),a.d(n,"AtlassianAccountMigrationBanner",(function(){return i.a})),a.d(n,"AtlassianAccountMigrationBannerWrapper",(function(){return C})),a.d(n,"AtlassianAccountMigrationClient",(function(){return I.a})),a.d(n,"AtlassianAccountMigrationDialog",(function(){return M.a}));var t=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationAlertContainer.tsx"),i=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.tsx"),r=a("./node_modules/react/index.js"),o=a.n(r),s=a("./packages/feature-flag-client/index.ts"),l=a("./packages/atlassian-analytics/index.ts"),c=a("./node_modules/@atlaskit/logo/dist/esm/AtlassianLogo/Icon.js"),m=a("./packages/colors/index.ts"),u=a("./packages/use-lazy-component/index.ts"),d=a("./app/common/lib/util/i18n/index.ts"),p=a("./packages/nachos/button.ts"),g=a("./app/common/components/banner/banner.tsx"),f=a("./app/src/components/Overlay/index.ts"),b=a("./app/src/components/EmailHygieneWizard/emailHygieneRedirect.ts"),v=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationErrorCodes.ts"),y=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationQuery.generated.tsx"),h=a("./app/src/components/AtlassianAccountMigration/getQueryParameter.ts"),k=a("./app/src/components/AtlassianAccountMigration/removeQueryParameters.ts"),E=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBannerV2.less"),x=a.n(E);function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var j,w="success"===Object(h.a)("onboarding"),O=Object(d.forNamespace)(["email hygiene wizard v2","banner"],{shouldEscapeStrings:!1}),S=function(e){var n=e.children;return o.a.createElement(f.a,{background:f.c.LIGHT,closeOnEscape:!1,onClose:function(){},alignment:f.b.TOP},o.a.createElement(r.Suspense,{fallback:null},n))},N=function(e){var n=e.forceShow,i=Object(u.useLazyComponent)((function(){return a.e(10).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationError.tsx"))})),d=Object(u.useLazyComponent)((function(){return a.e(8).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationConfirmationDialog.tsx"))})),f=Object(u.useLazyComponent)((function(){return a.e(11).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationWizard.tsx"))})),E=A(Object(r.useState)(null),2),_=E[0],N=E[1],C=A(Object(r.useState)(!1),2),I=C[0],M=C[1],z=A(Object(r.useState)(!1),2),D=z[0],H=z[1],T=A(Object(r.useState)(w),2),L=T[0],F=T[1],B=Object(s.useFeatureFlag)("aa4a.show-email-hygiene",!1),R=Object(s.useFeatureFlag)("aaaa.peh-meta-redirection",!1),P=Object(s.useFeatureFlag)("aaaa.email-hygiene-v2-design",!1),W=Object(y.a)({variables:{memberId:"me"}}),V=W.data&&W.data.member;Object(r.useEffect)((function(){var e=Object(h.a)("onboarding"),n=e&&Object(v.b)(e);n&&N(n)}),[]);var G=Object(r.useCallback)((function(){Object(k.a)("onboarding"),N(null)}),[]);Object(r.useEffect)((function(){V&&(n||B)&&M(!0)}),[V,n,B,P]);var U,Q,K=Object(r.useCallback)((function(){W.refetch(),H(!0)}),[W]),q=Object(r.useCallback)((function(){Object(k.a)("onboarding"),F(!1),H(!1),l.Analytics.sendClosedComponentEvent({componentType:"overlay",componentName:"atlassianAccountMigrationOverlay",source:"atlassianAccountMigrationBanner",attributes:j})}),[]),Z=Object(r.useCallback)((function(){R?Object(b.a)():K()}),[R,K]);!j&&V&&(j={organizationId:null,totalEmailAddresses:null===(U=V.logins)||void 0===U?void 0:U.length,totalClaimableEmailAddresses:null===(Q=V.logins)||void 0===Q?void 0:Q.filter((function(e){return e.claimable})).length});Object(r.useEffect)((function(){I&&l.Analytics.sendViewedBannerEvent({bannerName:"atlassianAccountMigrationBanner",source:Object(l.getScreenFromUrl)(),attributes:j})}),[I]);var X,J;return o.a.createElement("div",null,I&&(null==V?void 0:V.fullName)&&!(null==V?void 0:V.isAaMastered)?o.a.createElement(g.a,{className:x.a.bannerV2,bannerColor:m.Yellow50,alignCloseTop:!0,shadow:!0},o.a.createElement("div",{className:x.a.bannerContent},o.a.createElement("span",{className:x.a.logo},o.a.createElement(c.a,{iconColor:m.AtlassianBlue200,iconGradientStart:m.AtlassianBlue400,iconGradientStop:m.AtlassianBlue200})),o.a.createElement("p",{className:x.a.title},O("title")),o.a.createElement("p",{className:x.a.message},O("connect-account-message")),o.a.createElement(p.a,{appearance:"primary",className:x.a.button,onClick:Z},O("connect-account-button")))):null,o.a.createElement(o.a.Fragment,null,o.a.createElement(t.c,null),_?o.a.createElement(S,null,o.a.createElement(i,{code:_,onRetry:K,onDismiss:G})):null),D&&(null==V?void 0:V.email)&&!(null==V?void 0:V.isAaMastered)?o.a.createElement(S,null,o.a.createElement(f,{analyticsContext:j,onDismiss:q,hasTwoFactor:!!(null===(X=V.prefs)||void 0===X||null===(J=X.twoFactor)||void 0===J?void 0:J.enabled),email:V.email})):null,(null==V?void 0:V.isAaMastered)&&L?o.a.createElement(S,null,o.a.createElement(d,{id:(null==V?void 0:V.id)||"",name:(null==V?void 0:V.fullName)||"",email:(null==V?void 0:V.email)||"",onDismiss:q,analyticsContext:j})):null)},C=function(e){return Object(s.useFeatureFlag)("aaaa.aa-migration-v2-banner",!1)?o.a.createElement(N,e):o.a.createElement(i.a,e)},I=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationClient.ts"),M=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.tsx")},"./app/src/components/AtlassianAccountMigration/removeQueryParameters.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){for(var e=new URLSearchParams(window.location.search),n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];a.forEach((function(n){e.delete(n)}));var i=e.toString(),r=i?"?".concat(i):"",o="".concat(window.location.origin).concat(window.location.pathname).concat(r);window.history.replaceState({},document.title,o)}},"./app/src/components/AtlassianAccountMigrationStage/index.ts":function(e,n,a){"use strict";var t;a.r(n),a.d(n,"AtlassianAccountMigrationStage",(function(){return t})),a.d(n,"useAtlassianAccountMigrationStage",(function(){return p})),a.d(n,"AtlassianAccountMigrationStageBanners",(function(){return E})),a.d(n,"AtlassianAccountMigrationStageOverlay",(function(){return S})),a.d(n,"isStageActionable",(function(){return N})),function(e){e.done="done",e.ineligible="ineligible",e.onboarding="onboarding",e.legacyOnboardingV2="legacyOnboardingV2",e.newlyManaged="newlyManaged",e.migration="migration",e.migrationSuccess="migrationSuccess",e.emailHygiene="emailHygiene",e.confirmEmail="confirmEmail"}(t||(t={}));var i=a("./node_modules/react/index.js"),r=a.n(i),o=a("./packages/time/index.ts"),s=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AtlassianAccountMigrationStage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aaBlockSyncUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaEnrolledDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domainClaimed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAaMastered"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loginTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"owned"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAtlassianOrg"},arguments:[],directives:[]}]}}]}}]}}]};function c(e){return s.c(l,e)}var m=a("./app/src/components/EmailHygieneWizard/index.ts");function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skip,a=void 0!==n&&n,r=Object(i.useState)(null),s=u(r,2),l=s[0],d=s[1],p=c({skip:a,variables:{memberId:"me"}}),g=p.data,f=p.refetch,b=null==g?void 0:g.member;return Object(i.useEffect)((function(){var e;if(b)if(b.isAaMastered){var n,a,i=(null==b?void 0:b.aaBlockSyncUntil)&&new Date(b.aaBlockSyncUntil).getTime()-(new Date).getTime()>Object(o.c)({days:3});(null===(n=b.oneTimeMessagesDismissed)||void 0===n?void 0:n.includes(m.HYGIENE_MESSAGE_ID))?d(t.migrationSuccess):i?d(t.onboarding):b.confirmed&&b.domainClaimed&&!(null===(a=b.oneTimeMessagesDismissed)||void 0===a?void 0:a.includes("newly-managed"))?d(t.newlyManaged):d(t.done)}else b.aaEnrolledDate?d(t.legacyOnboardingV2):b.idEnterprise?d(t.ineligible):(null===(e=b.oneTimeMessagesDismissed)||void 0===e?void 0:e.includes(m.HYGIENE_MESSAGE_ID))?d(t.migration):b.confirmed?d(t.emailHygiene):d(t.confirmEmail)}),[b]),{stage:l,me:b,refetchStage:f}}var g=a("./packages/session-cookie/index.ts"),f=a("./packages/use-lazy-component/index.ts"),b=a("./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.tsx"),v=a("./app/src/components/EmailHygieneWizard/EmailHygieneBanner.tsx"),y=a("./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.tsx");function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var E=function(){var e,n=Object(f.useLazyComponent)((function(){return a.e(20).then(a.bind(null,"./app/src/components/AtlassianAccountOnboardingBanner/index.ts"))}),{namedImport:"AtlassianAccountOnboardingBannerWrapper",preload:!1}),o=Object(f.useLazyComponent)((function(){return a.e(20).then(a.bind(null,"./app/src/components/AtlassianAccountOnboardingBanner/index.ts"))}),{namedImport:"AtlassianManagedAccountBanner",preload:!1}),s=Object(f.useLazyComponent)((function(){return a.e(18).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/index.ts"))}),{namedImport:"AtlassianAccountMigrationBannerWrapper",preload:!1}),l=Object(f.useLazyComponent)((function(){return Promise.resolve().then(a.bind(null,"./app/src/components/EmailHygieneWizard/index.ts"))}),{namedImport:"EmailHygieneBannerWrapper",preload:!1}),c=Object(f.useLazyComponent)((function(){return a.e(18).then(a.bind(null,"./app/src/components/AtlassianAccountMigrationPrompt/index.ts"))}),{namedImport:"AtlassianAccountMigrationPrompt",preload:!1}),u=p({skip:!g.memberId}),d=u.stage,k=u.me,E=h(Object(i.useState)(null),2),x=E[0],A=E[1],_=h(Object(i.useState)(null),2),j=_[0],w=_[1],O=h(Object(i.useState)(""),2),S=O[0],N=O[1];Object(i.useEffect)((function(){var e,n=window.location.search;Object(b.b)(null!==(e=null==k?void 0:k.oneTimeMessagesDismissed)&&void 0!==e?e:[])?w(t.onboarding):y.b.test(n)?w(t.migration):v.b.test(n)&&w(t.emailHygiene)}),[k]),Object(i.useEffect)((function(){var e,n=(e=window.location.search,new URLSearchParams(e).get("showAaMigrate")||!1||"");n&&N(n)}),[]),Object(i.useEffect)((function(){d&&!x&&A(d)}),[d,x]);var C=null==k||null===(e=k.oneTimeMessagesDismissed)||void 0===e?void 0:e.includes(m.HYGIENE_MESSAGE_ID),I=d===t.migration&&x===t.emailHygiene&&C?x:j||d;if(!I&&!S)return null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.Suspense,{fallback:null},function(){var e;switch(I){case t.onboarding:case t.legacyOnboardingV2:return r.a.createElement(n,{isAaMastered:null!==(e=null==k?void 0:k.isAaMastered)&&void 0!==e&&e});case t.newlyManaged:return r.a.createElement(o,null);case t.migrationSuccess:case t.migration:return r.a.createElement(s,{forceShow:!!j});case t.emailHygiene:return r.a.createElement(l,{forceShow:!!j,hasCompletedHygiene:C});default:return null}}()),r.a.createElement(i.Suspense,{fallback:null},S?r.a.createElement(c,{prompt:S}):null))},x=a("./app/src/components/EmailHygieneWizard/EmailHygieneWizardQuery.generated.tsx"),A=a("./packages/feature-flag-client/index.ts"),_=a("./packages/nachos/spinner.ts"),j=a("./app/src/components/Overlay/index.ts");function w(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function O(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var S=function(e){var n=e.stage,o=e.attributes,s=e.onComplete,l=e.onDismiss,c=Object(f.useLazyComponent)((function(){return a.e(11).then(a.bind(null,"./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationWizard.tsx"))}),{preload:n===t.migration}),m=Object(f.useLazyComponent)((function(){return a.e(48).then(a.bind(null,"./app/src/components/EmailHygieneWizard/EmailHygieneWizard.tsx"))}),{preload:n===t.emailHygiene}),u=Object(f.useLazyComponent)((function(){return a.e(48).then(a.bind(null,"./app/src/components/EmailHygieneWizard/v2/EmailHygieneWizard.tsx"))}),{preload:n===t.emailHygiene}),d=Object(A.useFeatureFlag)("aaaa.email-hygiene-v2-design",!1),p=Object(x.a)({variables:{memberId:"me"}}),g=p.loading,b=p.data,v=null==b?void 0:b.member,y=Object(i.useMemo)((function(){var e,n;return function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?w(Object(a),!0).forEach((function(n){O(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({},o,{organizationId:null,totalEmailAddresses:null==v||null===(e=v.logins)||void 0===e?void 0:e.length,totalClaimableEmailAddresses:null==v||null===(n=v.logins)||void 0===n?void 0:n.filter((function(e){return e.claimable})).length})}),[v,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{background:j.c.LIGHT,closeOnEscape:!1,onClose:function(){},alignment:j.b.TOP},g?r.a.createElement(_.a,null):r.a.createElement(i.Suspense,{fallback:null},function(){var e,a,i,o,p,g,f;if(!v)return null;switch(n){case t.migration:return r.a.createElement(c,{analyticsContext:y,email:null!==(e=v.email)&&void 0!==e?e:"",hasTwoFactor:!!(null===(a=v.prefs)||void 0===a||null===(i=a.twoFactor)||void 0===i?void 0:i.enabled),onDismiss:l});case t.emailHygiene:var b,h,k,E;return d?r.a.createElement(u,{analyticsContext:y,avatarUrl:null!==(b=v.avatarUrl)&&void 0!==b?b:void 0,hasTwoFactor:!!(null===(h=v.prefs)||void 0===h||null===(k=h.twoFactor)||void 0===k?void 0:k.enabled),initials:null!==(E=v.initials)&&void 0!==E?E:void 0,logins:v.logins,name:v.fullName||v.username,onComplete:s,onDismiss:l}):r.a.createElement(m,{analyticsContext:y,avatarUrl:null!==(o=v.avatarUrl)&&void 0!==o?o:void 0,hasTwoFactor:!!(null===(p=v.prefs)||void 0===p||null===(g=p.twoFactor)||void 0===g?void 0:g.enabled),initials:null!==(f=v.initials)&&void 0!==f?f:void 0,logins:v.logins,name:v.fullName||v.username,onComplete:s,onDismiss:l,isUndismissable:!1});default:return null}}())))},N=function(e){return e===t.migration||e===t.emailHygiene}},"./app/src/components/AtlassianAccountOnboardingBanner/AtlassianAccountOnboardingLinks.ts":function(e,n,a){"use strict";var t;a.d(n,"a",(function(){return t})),function(e){e.Help="https://help.trello.com/article/1186-managed-atlassian-accounts-for-trello",e.AtlassianAccount="https://help.trello.com/article/1186-managed-atlassian-accounts-for-trello",e.TransferBoards="/support/transfer-boards",e.Signup="https://help.trello.com/article/1186-managed-atlassian-accounts-for-trello"}(t||(t={}))},"./app/src/components/AtlassianAccountOnboardingBanner/AtlassianAccountOnboardingQuery.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AtlassianAccountOnboarding"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaBlockSyncUntil"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaEnrolledDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credentialsRemovedCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domainClaimed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAaMastered"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"owned"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAtlassianOrg"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"logins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"loginTypes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function r(e){return t.c(i,e)}},"./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.tsx":function(e,n,a){"use strict";a.d(n,"b",(function(){return Ie})),a.d(n,"a",(function(){return Me}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./node_modules/classnames/index.js"),o=a.n(r),s=a("./node_modules/underscore/underscore.js"),l=a.n(s),c=a("./app/common/lib/util/i18n/index.ts"),m=a("./app/common/components/banner/banner.tsx"),u=a("./packages/nachos/button.ts"),d=a("./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.less"),p=a.n(d),g=a("./packages/colors/index.ts"),f=a("./packages/time/index.ts"),b=a("./app/src/components/Overlay/index.ts"),v=a("./app/src/components/AtlassianAccountOnboardingBanner/AtlassianAccountOnboardingQuery.generated.tsx"),y=function(e){return e.includes("aa-relinked")&&!e.includes("aa-relinked-confirmation")},h=a("./packages/atlassian-analytics/index.ts"),k=a("./app/gamma/src/api/index.ts"),E=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DismissAtlassianAccountRelinkedConfirmation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var A=a("./app/src/components/AtlassianAccountOnboardingBanner/PrepMemberForAtlassianAccountOnboardingMutation.generated.tsx"),_=a("./app/src/components/Wizard/index.ts"),j=Object(c.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),w="atlassianAccountAutomaticOnboardingBanner",O=function(e){var n=e.title,a=e.children,r=e.closeDialog,o=e.isCentered,s=e.image,l=e.mobileImage,c=e.onKeyPressCapture,m=e.className,u=Object(t.useCallback)((function(){h.Analytics.sendClickedLinkEvent({linkName:"atlassianAutoOnboardingHelpLink",source:w})}),[]),d=Object(t.useCallback)((function(){r&&r(),h.Analytics.sendClickedButtonEvent({source:w,buttonName:"atlassianAutomaticAccountOnboardingOverlayCloseButton"})}),[r]);return i.a.createElement(_.a,{title:n,tip:i.a.createElement(i.a.Fragment,null,j("tip-text",{transferYourBoardsLink:i.a.createElement("a",{href:"/support/transfer-boards",key:"transfer-link",onClick:u,target:"_blank"},j("transfer-your-boards-link"))})),closeDialog:r&&d,isCentered:o,image:s,mobileImage:l,onKeyPressCapture:c,imageClassName:m},a)},S=a("./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/Overlays/AutoOnboardingOverlayManager.less"),N=a.n(S),C=a("./app/gamma/src/components/alert/index.tsx");function I(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}var M="ATLASSIAN_PROFILE_SYNC_ALERT_AREA",z="ATLASSIAN_PROFILE_SYNC_ALERT_NAME",D=Object(c.forNamespace)(["aa onboarding","dialog"],{shouldEscapeStrings:!1}),H=Object(c.forTemplate)("app_management"),T=function(e){var n=e.aaEmail,a=e.orgName,r=e.image,o=e.mobileImage,s=e.onDismiss,l=e.onClickLogin,c=e.analyticsEventName,m=e.analyticsContext,d=e.analyticsContainers,p=Object(C.b)({alertArea:M,alertName:z}).showAlert,g=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.client.rest.post("members/me/atlassianAccount/autoOnboarding",{query:{returnUrl:window.location.pathname}});case 3:n=e.sent,window.location.assign(n.redirect_url),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p();case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){I(r,t,i,o,s,"next",e)}function s(e){I(r,t,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(t.useEffect)((function(){h.Analytics.sendScreenEvent({name:c,attributes:m,containers:d})}),[c,m,d]),i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{displayType:"error",name:z,area:M},H("something-went-wrong")),i.a.createElement(O,{title:"".concat(D("error title")," ").concat(n),closeDialog:s,image:r,mobileImage:o,className:N.a.emailMismatchTitle},i.a.createElement("div",{className:N.a.emailMismatchContent},i.a.createElement("p",null,D("error main message",{aaEmail:i.a.createElement("strong",{key:"aaEmail"},n),orgDomain:a})),i.a.createElement("p",null,D("error second message"))),i.a.createElement("div",{className:N.a.section},i.a.createElement(u.a,{appearance:"primary",onClick:g},D("log in to atlassian")))))},L=Object(c.forNamespace)(["aa onboarding","dialog"],{shouldEscapeStrings:!1}),F=function(e){var n,a,r,o=e.aaEmail,s=e.orgName,l=e.image,c=e.mobileImage,m=e.onClickUpdateAccount,d=e.onDismiss,p=e.analyticsEventName,g=e.analyticsContext,f=e.analyticsContainers;return Object(t.useEffect)((function(){h.Analytics.sendScreenEvent({name:p,attributes:g,containers:f})}),[p,g,f]),i.a.createElement(O,{title:L("update your trello account"),closeDialog:d,image:l,mobileImage:c},i.a.createElement("div",{className:N.a.mainMessage},i.a.createElement("p",null,L("update account intro",{orgDomain:i.a.createElement("strong",{key:o},(n=o,a=n,r=n.search("@"),r>0&&(a=n.slice(r+1)),a)),orgName:i.a.createElement("strong",{key:s},s)})),i.a.createElement("p",null,L("update account msg")),i.a.createElement("p",null,L("guide account update"))),i.a.createElement("div",{className:N.a.buttons},i.a.createElement(u.a,{appearance:"primary",size:"wide",onClick:m},L("continue"))))},B=Object(c.forNamespace)(["aa onboarding","dialog"],{shouldEscapeStrings:!1}),R=function(e){var n=e.aaEmail,a=e.name,r=e.orgName,o=e.image,s=e.mobileImage,l=e.onClickOk,c=e.onDismiss,m=e.analyticsEventName,d=e.analyticsContext,p=e.analyticsContainers;return Object(t.useEffect)((function(){h.Analytics.sendScreenEvent({name:m,attributes:d,containers:p})}),[m,d,p]),i.a.createElement(O,{closeDialog:c,title:B("new trello atlassian profile"),image:o,mobileImage:s,onKeyPressCapture:function(e){"Enter"===e.key&&l()}},i.a.createElement("ul",{className:N.a.atlassianProfileBody},i.a.createElement("li",{key:n},B("atlassian profile first li",{aaEmail:i.a.createElement("strong",{key:"email"},n)})),i.a.createElement("li",{key:"atlassian profile third li"},B("atlassian profile third li",{orgName:r})),i.a.createElement("li",{key:"atlassian profile updated third li"},B("atlassian profile updated third li"))),i.a.createElement("div",{className:N.a.buttons},i.a.createElement(u.a,{appearance:"primary",onClick:l},B("continue"))),i.a.createElement("div",{className:N.a.profileInformation},i.a.createElement("p",null," ",a," "),i.a.createElement("span",null," ",n," ")))};function P(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return V(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var G="ATLASSIAN_PROFILE_SYNC_ALERT_AREA",U="ATLASSIAN_PROFILE_SYNC_ALERT_NAME",Q=Object(c.forNamespace)(["aa onboarding","dialog"],{shouldEscapeStrings:!1}),K=Object(c.forTemplate)("app_management"),q=function(e){var n=e.aaEmail,a=e.image,r=e.mobileImage,o=e.onClickOk,s=e.onDismiss,l=e.analyticsEventName,c=e.analyticsContext,m=e.analyticsContainers,d=Object(C.b)({alertArea:G,alertName:U}).showAlert,p=W(Object(t.useState)(!1),2),g=p[0],f=p[1],b=W(Object(t.useState)(!1),2),v=b[0],y=b[1];Object(t.useEffect)((function(){h.Analytics.sendScreenEvent({name:l,attributes:c,containers:m})}),[l,c,m]);var E=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,k.a.client.rest.post("members/me/atlassianAccount/autoOnboarding",{query:{returnUrl:window.location.pathname}});case 4:return n=e.sent,e.next=7,o();case 7:n.emailVerificationRequired?(f(!0),y(!1)):window.location.assign(n.redirect_url),e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(0),y(!1),"ALREADY_MASTERED"!==e.t0.error_code){e.next=16;break}return s(),e.abrupt("return");case 16:d();case 17:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){P(r,t,i,o,s,"next",e)}function s(e){P(r,t,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return g?i.a.createElement(O,{title:Q("check your inbox"),closeDialog:s},i.a.createElement("div",{className:N.a.loginWithAtlassianContent},i.a.createElement("p",null,Q("we sent an email",{email:i.a.createElement("strong",{key:"email"},n)})),i.a.createElement("p",null,Q("click the link in the email"))),i.a.createElement("div",{className:N.a.section},i.a.createElement(u.a,{appearance:"primary",onClick:s},Q("got it")))):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{displayType:"error",name:U,area:G},K("something-went-wrong")),i.a.createElement(O,{title:Q("atlassian create password header"),closeDialog:s,image:a,mobileImage:r,className:N.a.createPasswordImg},i.a.createElement("div",{className:N.a.createPasswordBody},i.a.createElement("p",null,Q("finish account setup")),i.a.createElement("p",null,Q("atlassian create password msg"))),i.a.createElement("div",{className:N.a.buttons},i.a.createElement(u.a,{appearance:"primary",onClick:E,isDisabled:v},Q("continue to atlassian")))))},Z=a("./packages/config/index.ts"),X=a("./app/src/components/AtlassianAccountOnboardingBanner/AtlassianAccountOnboardingLinks.ts"),J=a("./packages/error-reporting/index.ts");function Y(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function $(e){return function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){Y(r,t,i,o,s,"next",e)}function s(e){Y(r,t,i,o,s,"throw",e)}o(void 0)}))}}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ne(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ne(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var ae,te=Object(c.forNamespace)(["aa onboarding","dialog"],{shouldEscapeStrings:!1}),ie=function(e){var n=e.orgName,a=e.image,r=e.mobileImage,o=e.onClickOk,s=e.onDismiss,l=e.analyticsEventName,c=e.analyticsContext,m=e.analyticsContainers,d=ee(Object(t.useState)(""),2),p=d[0],g=d[1],f=ee(Object(t.useState)(""),2),b=f[0],v=f[1],y=ee(Object(t.useState)(!1),2),E=y[0],x=y[1];Object(t.useEffect)((function(){h.Analytics.sendScreenEvent({name:l,attributes:c,containers:m})}),[l,c,m]);var A=function(e,n){var a=null==e?void 0:e.querySelector(".replace-avatar");a&&n&&a.setAttribute("xlink:href",n)},_=Object(t.useCallback)($(regeneratorRuntime.mark((function e(){var n,t,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.client.rest.get("members/me/aaProfile");case 3:n=e.sent,t=n.avatarUrl,i=n.publicName,o=n.email,g(i),v(o),A(a,t),A(r,t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(J.sendCrashEvent)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[a,r]);Object(t.useEffect)((function(){_()}),[_]);var j=b?"".concat(Z.identityBaseUrl,"/login?login_hint=").concat(encodeURIComponent(b),"&continue=").concat(encodeURIComponent(Z.identityBaseUrl+"/manage-profile")):"".concat(Z.identityBaseUrl,"/manage-profile");return E?null:i.a.createElement(O,{closeDialog:function(){s(),x(!0)},title:te("youre all set"),image:a,mobileImage:r,onKeyPressCapture:function(e){"Enter"===e.key&&o()}},i.a.createElement("ul",{className:N.a.atlassianConfirmationBody},i.a.createElement("li",{key:b},i.a.createElement("span",null,te("atlassian confirmation first li",{aaEmail:i.a.createElement("strong",{key:"email"},b)}))),i.a.createElement("li",{key:n},te("atlassian confirmation second li",{orgName:n})," ",i.a.createElement("a",{href:X.a.TransferBoards},i.a.createElement("u",null," ",te("atlassian confirmation leave or transfer")))," ",te("boards not for org",{org:n})),i.a.createElement("li",{key:"review your profile"},i.a.createElement("a",{href:j},i.a.createElement("u",null," ",te("review your atlassian profile")))," ",te("within three days"))),i.a.createElement("div",{className:N.a.buttons},i.a.createElement(u.a,{appearance:"primary",onClick:function(){o(),x(!0)}},te("got it"))),i.a.createElement("div",{className:N.a.profileInformation},i.a.createElement("p",null," ",p," "),i.a.createElement("span",null," ",b," ")))};function re(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function oe(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function se(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return le(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return le(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function ce(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function me(e){return function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){ce(r,t,i,o,s,"next",e)}function s(e){ce(r,t,i,o,s,"throw",e)}o(void 0)}))}}!function(e){e.ATLASSIAN_PROFILE="atlassianAutomaticOnboardingProfileModal",e.AUTOMATIC_MIGRATION_CONFIRMATION="atlassianAutomaticOnboardingConfirmationModal",e.UPDATE_ACCOUNT="atlassianAutomaticOnboardingUpdateAccountModal",e.EMAIL_MISMATCH="atlassianAutomaticOnboardingEmailMismatchModal",e.ACCOUNT_CONFIRMATION="atlassianAccountConfirmationModal",e.CREATE_PASSWORD="atlassianAutomaticAccountCreatePasswordModal"}(ae||(ae={}));var ue={intro:{full:a("./resources/images/email-hygiene-wizard/illustration-atlassian.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-atlassian-mobile.svg")},main:{full:a("./resources/images/email-hygiene-wizard/illustration-main.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-main-mobile.svg")},password:{full:a("./resources/images/email-hygiene-wizard/illustration-password.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-password-mobile.svg")},emailMismatch:{full:a("./resources/images/email-hygiene-wizard/illustration-email-mismatch.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-email-mismatch-mobile.svg")}},de="atlassianAccountAutomaticOnboardingOverlayV2",pe=function(){var e=me(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(n);case 2:if(!(null==(a=e.sent)?void 0:a.ok)){e.next=5;break}return e.abrupt("return",a.text());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ge=new Map,fe=function(e,n){var a="".concat(e,"-").concat(n||""),t=document.createElement("div");return t.className=N.a.illustration,ge.set(a,t),pe(e).then((function(e){e&&(t.innerHTML=e,function(e,n){var a=e.querySelector(".replace-avatar");a&&n&&a.setAttribute("xlink:href",n)}(t,n))})),t},be=function(e){var n,a=e.analyticsContext,r=e.analyticsContainers,o=e.screen,s=e.aaEmail,l=e.logins,c=e.oneTimeMessagesDismissed,m=e.orgName,u=e.dismiss,d=e.setScreen,p=se(E.b(x,n),1)[0],g=se(Object(A.a)(),1)[0],f=se(Object(t.useState)(""),2),b=f[0],v=f[1],_=se(Object(t.useState)(""),2),j=_[0],w=_[1],O=se(Object(t.useState)(""),2),S=O[0],N=O[1],C=function(){var e=me(regeneratorRuntime.mark((function e(){var n,a,t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.client.rest.get("members/me/aaProfile");case 3:n=e.sent,a=n.avatarUrl,t=n.publicName,i=n.email,N(a),v(t),w(i),fe(ue.main.full,a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(J.sendCrashEvent)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),I=Object(t.useCallback)((function(e){return fe(e,S)}),[S]);Object(t.useEffect)((function(){I(ue.main.full),I(ue.main.mobile)})),Object(t.useEffect)((function(){C()}),[]),m=m;var M=function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?re(Object(a),!0).forEach((function(n){oe(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}({},a,{screen:o}),z=null==l?void 0:l.find((function(e){return e.email===s})),D=z&&z.id,H=null==l?void 0:l.filter((function(e){return e.email!==s})),L=null==H?void 0:H.map((function(e){return e.id}));switch(o){case ae.UPDATE_ACCOUNT:return i.a.createElement(F,{image:I(ue.intro.full),mobileImage:I(ue.intro.mobile),aaEmail:s,orgName:m,onDismiss:u,onClickUpdateAccount:function(){h.Analytics.sendClickedButtonEvent({attributes:M,containers:r,source:de,buttonName:"atlassianAutomaticOnboardingUpdateAccountButton"}),d(ae.ATLASSIAN_PROFILE)},analyticsEventName:o,analyticsContext:a,analyticsContainers:r});case ae.ATLASSIAN_PROFILE:return i.a.createElement(R,{aaEmail:j,name:b,image:I(ue.main.full),mobileImage:I(ue.main.mobile),onDismiss:u,orgName:m,onClickOk:function(){h.Analytics.sendClickedButtonEvent({attributes:M,containers:r,source:de,buttonName:"atlassianAutomaticOnboardingContinueToCreatePasswordButton"}),d(ae.CREATE_PASSWORD)},analyticsEventName:o,analyticsContext:a,analyticsContainers:r});case ae.CREATE_PASSWORD:return i.a.createElement(q,{aaEmail:s,image:I(ue.password.full),mobileImage:I(ue.password.mobile),onDismiss:u,onClickOk:me(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],D&&n.push(g({variables:{memberId:"me",aaLoginId:D,nonAaLoginIds:L}})),y(c)&&n.push(p({variables:{messageId:"aa-relinked-confirmation"}})),e.next=5,Promise.all(n);case 5:h.Analytics.sendClickedButtonEvent({attributes:M,containers:r,source:de,buttonName:"atlassianAutomaticOnboardingContinueToAtlassianButton"});case 6:case"end":return e.stop()}}),e)}))),analyticsEventName:o,analyticsContext:a,analyticsContainers:r});case ae.AUTOMATIC_MIGRATION_CONFIRMATION:return i.a.createElement(ie,{image:I(ue.main.full),mobileImage:I(ue.main.mobile),orgName:m,onDismiss:u,onClickOk:function(){h.Analytics.sendClickedButtonEvent({attributes:M,containers:r,source:de,buttonName:"atlassianOnboardingGotItButton"}),u()},analyticsEventName:o,analyticsContext:a,analyticsContainers:r});case ae.EMAIL_MISMATCH:return i.a.createElement(T,{aaEmail:s,orgName:m,image:I(ue.emailMismatch.full),mobileImage:I(ue.emailMismatch.mobile),onDismiss:u,onClickLogin:function(){h.Analytics.sendClickedButtonEvent({attributes:M,containers:r,source:de,buttonName:"atlassianAutomaticOnboardingMismatchLoginButton"}),d(ae.EMAIL_MISMATCH)},analyticsEventName:o,analyticsContext:a,analyticsContainers:r});default:return null}},ve=a("./app/src/components/AtlassianAccountOnboardingBanner/getQueryParameter.ts"),ye=a("./app/src/components/AtlassianAccountOnboardingBanner/removeQueryParameters.ts");function he(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ke(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ke(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var Ee=Object(c.forNamespace)(["aa onboarding","banner"],{shouldEscapeStrings:!1}),xe=a("./resources/images/onboarding-banner/banner-wave-right.svg"),Ae=a("./resources/images/onboarding-banner/banner-wave-left.svg"),_e={},je={},we="atlassianAccountAutomaticOnboardingBanner",Oe="success"===Object(ve.a)("auto_onboarding"),Se="emailMismatchError"===Object(ve.a)("auto_onboarding"),Ne="true"===Object(ve.a)("show_atlassian_profile"),Ce="success"===Object(ve.a)("onboarding"),Ie=function(e){return Oe||Se||Ne||y(e)},Me=function(){var e=he(Object(t.useState)(!1),2),n=e[0],a=e[1],r=he(Object(t.useState)(!1),2),s=r[0],c=r[1],d=he(Object(t.useState)(),2),k=d[0],E=d[1],x=Object(v.a)({variables:{memberId:"me"}}).data,A=null==x?void 0:x.member,_=null==A?void 0:A.fullName,j=null==A?void 0:A.id,w=null==A?void 0:A.email,O=null==A?void 0:A.aaEmail,S=null==A?void 0:A.aaId,N=null==A?void 0:A.logins.find((function(e){return e.email===O})),C=null==N?void 0:N.id,I=A&&!l.a.isEmpty(A.enterprises)?A.enterprises[0]:void 0,M=null==I?void 0:I.displayName,z=null==A?void 0:A.credentialsRemovedCount,D=(null==A?void 0:A.oneTimeMessagesDismissed)||[],H=(null==A?void 0:A.aaBlockSyncUntil)&&new Date(A.aaBlockSyncUntil).getTime()-(new Date).getTime()>Object(f.c)({days:3}),T=j&&A&&_&&S&&w,L=M&&O&&N&&C,F=Object(t.useCallback)((function(){c(!1),h.Analytics.sendClosedComponentEvent({attributes:_e,containers:je,source:we,componentType:"overlay",componentName:"atlassianAccountOnboardingOverlay"})}),[]),B=Object(t.useCallback)((function(){c(!1),Object(ye.a)("onboarding","auto_onboarding","show_atlassian_profile"),Oe=!1,Se=!1,Ne=!1,Ce=!1}),[]),R=Object(t.useCallback)((function(){E(ae.AUTOMATIC_MIGRATION_CONFIRMATION),c(!0)}),[]),P=Object(t.useCallback)((function(){E(ae.ATLASSIAN_PROFILE),c(!0)}),[]),W=Object(t.useCallback)((function(){E(ae.ACCOUNT_CONFIRMATION),c(!0)}),[]),V=Object(t.useCallback)((function(){E(ae.UPDATE_ACCOUNT),c(!0)}),[]),G=Object(t.useCallback)((function(){E(ae.EMAIL_MISMATCH),c(!0)}),[]),U=Object(t.useCallback)((function(){n||(h.Analytics.sendViewedBannerEvent({attributes:_e,containers:je,source:"atlassianAccountAutomaticOnboarding",bannerName:we}),a(!0))}),[n]);return Object(t.useEffect)((function(){(new Image).src=Ae,(new Image).src=xe,Oe?R():Se?(G(),U()):Ne||y(D)?(P(),U()):Ce?W():H&&T&&L&&!n&&(V(),U())}),[O,S,N,C,D,H,L,T,n,U,V,G,R,P,W]),j&&A&&_&&S&&w?(_e={enterpriseId:null==I?void 0:I.id,emailCount:null==A?void 0:A.logins.length,V2:!0},je={enterpriseId:null==I?void 0:I.id},Ie(D)?s?i.a.createElement(b.a,{background:b.c.LIGHT,onClose:F,alignment:b.b.TOP},i.a.createElement(be,{id:j,name:_,aaEmail:w,logins:null==A?void 0:A.logins,oneTimeMessagesDismissed:D,orgName:M,dismiss:B,credentialsRemovedCount:z,screen:k,setScreen:E,analyticsContext:_e,analyticsContainers:je})):null:H&&M&&O&&N&&C?i.a.createElement("div",null,i.a.createElement(m.a,{bannerColor:g.N0,className:p.a.banner,shadow:!0,roundedCorners:!0,alignCloseTop:!0},i.a.createElement("div",{className:p.a.container},i.a.createElement("div",{className:p.a.body},i.a.createElement("div",{className:p.a.automaticOnboardingMsg},i.a.createElement("div",null,i.a.createElement("span",null,i.a.createElement("b",null,Ee("heads up"))," ",Ee("update your account"),".")),i.a.createElement("div",{className:p.a.controls},i.a.createElement(u.a,{appearance:"primary",size:"wide",onClick:function(){V(),h.Analytics.sendClickedButtonEvent({attributes:_e,containers:je,buttonName:"atlassianAutomaticOnboardingUpdateAccountButton",source:we})}},Ee("update")))),s&&i.a.createElement(b.a,{background:b.c.LIGHT,onClose:F,alignment:b.b.TOP},i.a.createElement(be,{id:j,name:_,aaEmail:w,logins:null==A?void 0:A.logins,oneTimeMessagesDismissed:D,orgName:M,dismiss:B,credentialsRemovedCount:z,screen:k,setScreen:E,analyticsContext:_e,analyticsContainers:je})))),i.a.createElement("img",{alt:"",src:Ae,className:o()(p.a.waveImg,p.a.leftWaveImg)}),i.a.createElement("img",{alt:"",src:xe,className:o()(p.a.waveImg,p.a.rightWaveImg)}))):null):null}},"./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/Overlays/AutoOnboardingOverlayManager.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/Overlays/AutoOnboardingOverlayManager.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/AtlassianAccountOnboardingBanner/PrepMemberForAtlassianAccountOnboardingMutation.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrepMemberForAtlassianAccountOnboarding"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"aaLoginId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nonAaLoginIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prepMemberForAtlassianAccountOnboarding"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"aaLoginId"},value:{kind:"Variable",name:{kind:"Name",value:"aaLoginId"}}},{kind:"Argument",name:{kind:"Name",value:"nonAaLoginIds"},value:{kind:"Variable",name:{kind:"Name",value:"nonAaLoginIds"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aaEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAaMastered"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]};function r(e){return t.b(i,e)}},"./app/src/components/AtlassianAccountOnboardingBanner/getQueryParameter.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(e){return new URLSearchParams(window.location.search).get(e)}},"./app/src/components/AtlassianAccountOnboardingBanner/removeQueryParameters.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){for(var e=new URLSearchParams(window.location.search),n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];a.forEach((function(n){e.delete(n)}));var i=e.toString(),r=i?"?".concat(i):"",o="".concat(window.location.origin).concat(window.location.pathname).concat(r);window.history.replaceState({},document.title,o)}},"./app/src/components/ChangeEmailButton/ChangeEmailButton.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChangeEmailButton/ChangeEmailButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/ChangeEmailButton/index.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return y}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./node_modules/classnames/index.js"),o=a.n(r),s=a("./packages/nachos/button.ts"),l=a("./app/common/lib/util/i18n/index.ts"),c=a("./packages/nachos/popover.ts"),m=a("./app/src/components/EmailError/index.ts"),u=a("./packages/nachos/spinner.ts"),d=a("./app/src/components/ChangeEmailButton/ChangeEmailButton.less"),p=a.n(d);function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var v=Object(l.forNamespace)(["email hygiene wizard v2","change email"],{shouldEscapeStrings:!1}),y=function(e){var n=e.appearance,a=void 0===n?"default":n,r=e.isDisabled,l=void 0!==r&&r,d=e.onSubmitEmail,b=void 0===d?function(e){}:d,y=e.isSendingRequest,h=e.emailError,k=e.onTogglePopover,E=e.emailPlaceholder,x=void 0===E?"":E,A=e.isPopoverVisible,_=void 0===A?null:A,j=e.children,w=f(Object(t.useState)(x),2),O=w[0],S=w[1],N=Object(c.e)({onHide:function(){k(!1)},onShow:function(){k(!0)}}),C=N.popoverProps,I=N.toggle,M=N.triggerRef;return"boolean"==typeof _&&(C.isVisible=_),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{onClick:I,ref:M,appearance:a,isDisabled:l},j),i.a.createElement(c.b,g({},C,{title:v("title")}),i.a.createElement("div",{className:p.a.popoverContent},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),b(O)}},i.a.createElement("div",null,v("main-message"),y&&i.a.createElement(u.a,{small:!0,inline:!0,wrapperClassName:o()(p.a.spinner,p.a.floating)})),h&&i.a.createElement(m.a,{error:h,email:O},(function(e){return i.a.createElement("p",{className:p.a.popoverError},e)})),i.a.createElement("label",{htmlFor:"email",className:p.a.popoverLabel},v("email-label")),i.a.createElement("input",{id:"email",type:"email",name:"email",value:O,ref:function(e){return e&&e.focus()},onChange:function(e){return S(e.target.value)},disabled:y}),i.a.createElement(s.a,{appearance:"primary",isDisabled:y||0===O.length,onClick:function(e){e.preventDefault(),b(O)}},v("send-confirmation-button"))))))}},"./app/src/components/EmailHygieneWizard/AtlassianAccountsQuery.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AtlassianAccounts"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"atlassianAccounts"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]};function r(e){return t.a(i,e)}},"./app/src/components/EmailHygieneWizard/ChooseEmail.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ChooseEmail.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/ClaimableEmailInfo.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ClaimableEmailInfo.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/ConfirmSingleEmail.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ConfirmSingleEmail.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/ConfirmationEmailSent.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ConfirmationEmailSent.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/EmailHygieneBanner.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/EmailHygieneBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/EmailHygieneBanner.tsx":function(e,n,a){"use strict";a.d(n,"b",(function(){return A})),a.d(n,"a",(function(){return _}));var t,i=a("./node_modules/react/index.js"),r=a.n(i),o=a("./packages/atlassian-analytics/index.ts"),s=a("./packages/colors/index.ts"),l=a("./packages/dates/index.ts"),c=a("./packages/feature-flag-client/index.ts"),m=a("./packages/storage/index.ts"),u=a("./packages/use-lazy-component/index.ts"),d=a("./app/common/lib/util/i18n/index.ts"),p=a("./app/common/components/banner/banner.tsx"),g=a("./app/src/components/Overlay/index.ts"),f=a("./app/src/components/EmailHygieneWizard/EmailHygieneWizardQuery.generated.tsx"),b=a("./app/src/components/EmailHygieneWizard/emailHygieneOneTimeMessageIds.ts"),v=a("./app/src/components/EmailHygieneWizard/useSnooze.ts"),y=a("./app/src/components/EmailHygieneWizard/EmailHygieneBanner.less"),h=a.n(y);function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var x=Object(d.forNamespace)(["email hygiene wizard","banner"],{shouldEscapeStrings:!1}),A=/[?&]forceHygiene=true/i,_=function(e){var n,d,y=e.forceShow,E=e.hasCompletedHygiene,A=Object(u.useLazyComponent)((function(){return a.e(48).then(a.bind(null,"./app/src/components/EmailHygieneWizard/EmailHygieneWizard.tsx"))})),_=k(Object(i.useState)(!1),2),j=_[0],w=_[1],O=k(Object(i.useState)(!1),2),S=O[0],N=O[1],C=k(Object(i.useState)(!1),2),I=C[0],M=C[1],z=Object(c.useFeatureFlag)("aa4a.show-email-hygiene",!1),D=Object(c.useFeatureFlag)("aa4a.show-peh-past-deadline",!1),H=Object(c.useFeatureFlag)("aa4a.peh-undismissable-for-multiple-emails",!1),T=Object(c.useFeatureFlag)("aa4a.peh-snooze-time",0),L=Object(v.a)("peh-snooze",T),F=L.isSnoozed,B=L.snooze,R=Object(f.a)({variables:{memberId:"me"}}),P=R.data&&R.data.member;Object(i.useEffect)((function(){var e;if(null==P?void 0:P.logins){var n=!!(null===(e=P.oneTimeMessagesDismissed)||void 0===e?void 0:e.includes(b.a)),a=P.logins.sort((function(e,n){return e.id.localeCompare(n.id)}))[0],t=a?(Date.now()-Object(l.c)(a.id).valueOf())/1e3/60/60/24:0;F?(N(!1),w(!1)):y?(w(!0),N(!0)):t<=7&&!n?w(!1):(n||z)&&(w(!0),N(!0)),m.TrelloStorage.get("peh-seen-initial-banner")&&M(!0)}}),[P,y,z,F]);var W=Object(i.useCallback)((function(){R.refetch(),N(!0),o.Analytics.sendClickedLinkEvent({linkName:"emailHygieneBannerLink",source:"emailHygieneBanner",attributes:t})}),[R]),V=Object(i.useCallback)((function(){B(),o.Analytics.sendClickedLinkEvent({linkName:"emailHygieneBannerDismissLink",source:"emailHygieneBanner",attributes:t})}),[B]),G=P&&Array.from(null==P?void 0:P.logins),U=!!G&&G.length>1,Q=H&&U;G&&G.sort((function(e,n){return(n.primary?1:0)-(e.primary?1:0)||n.id.localeCompare(e.id)})),!t&&P&&(t={organizationId:null,totalEmailAddresses:null==G?void 0:G.length,totalClaimableEmailAddresses:null==G?void 0:G.filter((function(e){return e.claimable})).length});var K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"#",className:h.a.updateLink,onClick:function(e){e.preventDefault(),W()}},x("link-text")),!Q&&T>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:h.a.linkSeparator},"Â·"),r.a.createElement("a",{href:"#",className:h.a.dismissLink,onClick:function(e){e.preventDefault(),V()}},x("snooze-link-text"))))};return Object(i.useEffect)((function(){j&&o.Analytics.sendViewedBannerEvent({bannerName:"emailHygieneBanner",source:Object(o.getScreenFromUrl)()})}),[j]),P&&G?r.a.createElement("div",null,j&&r.a.createElement(r.a.Fragment,null,I&&D?r.a.createElement(p.a,{className:h.a.banner,bannerColor:s.N800},r.a.createElement("p",{className:h.a.text},x("past-deadline-message"),K())):(m.TrelloStorage.set("peh-seen-initial-banner","true"),r.a.createElement(p.a,{className:h.a.banner,bannerColor:s.N800},r.a.createElement("p",{className:h.a.text},r.a.createElement("span",{role:"img","aria-label":""},"ðŸ‘‹"),x("main-message",{name:P&&P.fullName}),K())))),S&&r.a.createElement(g.a,{background:g.c.LIGHT,closeOnEscape:!1,onClose:function(){},alignment:g.b.TOP},r.a.createElement(i.Suspense,{fallback:null},r.a.createElement(A,{logins:G,name:P.fullName||P.username,hasTwoFactor:!!(null===(n=P.prefs)||void 0===n||null===(d=n.twoFactor)||void 0===d?void 0:d.enabled),hasCompletedHygiene:E,avatarUrl:P.avatarUrl||void 0,initials:P.initials||void 0,onDismiss:function(){return N(!1)},isUndismissable:Q,onSnooze:T?B:void 0,analyticsContext:t,onComplete:function(){w(!1),N(!1)}})))):null}},"./app/src/components/EmailHygieneWizard/EmailHygieneChangeEmailMutation.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EmailHygieneChangeEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"loginId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dismissMessage"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"changeMemberEmail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"loginId"},value:{kind:"Variable",name:{kind:"Name",value:"loginId"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"primary"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"dismissMessage"},value:{kind:"Variable",name:{kind:"Name",value:"dismissMessage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]};function r(e){return t.b(i,e)}},"./app/src/components/EmailHygieneWizard/EmailHygieneWizard.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/EmailHygieneWizard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/EmailHygieneWizard.tsx":function(e,n,a){"use strict";a.r(n),a.d(n,"illustrations",(function(){return pe})),a.d(n,"ScreenType",(function(){return de})),a.d(n,"fetchIllustration",(function(){return ve})),a.d(n,"EmailHygieneWizard",(function(){return ye}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/atlassian-analytics/index.ts"),o=a("./packages/feature-flag-client/index.ts"),s=a("./app/common/lib/util/i18n/index.ts"),l=a("./app/src/components/ChangeEmailButton/index.ts"),c=a("./app/src/components/EmailError/index.ts"),m=a("./app/src/components/AtlassianAccountMigration/index.ts"),u=a("./app/src/components/EmailHygieneWizard/EmailHygieneChangeEmailMutation.generated.tsx"),d=a("./app/src/components/EmailHygieneWizard/PrepMemberForEmailHygiene.generated.tsx"),p=a("./app/src/components/EmailHygieneWizard/AtlassianAccountsQuery.generated.tsx"),g=a("./node_modules/classnames/index.js"),f=a.n(g),b=a("./packages/nachos/button.ts"),v=a("./packages/nachos/icons/down.tsx"),y=a("./packages/nachos/popover.ts"),h=a("./packages/nachos/spinner.ts"),k=a("./app/src/components/Wizard/index.ts"),E=Object(s.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),x=function(e){var n=e.title,a=e.children,o=e.closeDialog,s=e.isCentered,l=e.image,c=e.mobileImage,m=e.onKeyPressCapture,u=e.analyticsContext,d=e.analyticsSource,p=Object(t.useCallback)((function(){r.Analytics.sendClickedLinkEvent({linkName:"emailHygieneTransferBoardsFooterLink",source:d,attributes:u})}),[d,u]),g=Object(t.useCallback)((function(){o&&(o(),r.Analytics.sendClosedComponentEvent({componentType:"overlay",componentName:"emailHygieneWizard",source:d,attributes:u}))}),[o,d,u]);return i.a.createElement(k.a,{title:n,tip:i.a.createElement(i.a.Fragment,null,E("tip-text",{transferYourBoardsLink:i.a.createElement("a",{href:"/support/transfer-boards",key:"transfer-link",onClick:p,target:"_blank"},E("transfer-your-boards-link"))})),closeDialog:o&&g,isCentered:s,image:l,mobileImage:c,onKeyPressCapture:m},a)},A=a("./app/src/components/EmailHygieneWizard/ChooseEmail.less"),_=a.n(A);function j(){return(j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var S=Object(s.forNamespace)(["email hygiene wizard","choose email screen"],{shouldEscapeStrings:!1}),N=function(e){var n=e.logins,a=e.onDismiss,o=e.selectedLogin,s=e.isSendingRequest,l=e.isSendingRemoveEmailsRequest,c=e.onSelectLogin,m=e.onClickConfirm,u=e.onRemoveSecondaryEmails,d=e.image,p=e.mobileImage,g=e.analyticsContext,k=e.analyticsSource,E=w(Object(t.useState)(!1),2),A=E[0],O=E[1],N=Object(y.e)({onShow:function(){r.Analytics.sendScreenEvent({name:"emailHygieneRemoveSecondaryEmailsInlineDialog",attributes:g})}}),C=N.popoverProps,I=N.toggle,M=N.triggerRef,z=Object(t.useCallback)((function(){u(),r.Analytics.sendClickedButtonEvent({buttonName:"emailHygieneWizardRemoveSecondaryEmailsButton",source:"emailHygieneRemoveSecondaryEmailsInlineDialog",attributes:g})}),[u,g]),D=A||n.length<=5?n:n.slice(0,4),H=n.length-D.length,T=n.some((function(e){return e.hasAa}));return i.a.createElement(x,{closeDialog:a,title:S("title"),image:d,mobileImage:p,onKeyPressCapture:function(e){"Enter"!==e.key||s||C.isVisible||m()},analyticsContext:g,analyticsSource:k},i.a.createElement("p",null,S("main-message",{mainMessageAddition:i.a.createElement("strong",{className:_.a.breakable,key:"main-message-addition"},S("main-message-addition"))})),i.a.createElement("p",null,S("select-email-text")),i.a.createElement("div",{className:_.a.emailList},T&&i.a.createElement("p",{className:_.a.aaLegend},S("aa-legend-text")),D.map((function(e,n){return i.a.createElement("div",{key:"email".concat(n)},i.a.createElement("label",{className:_.a.emailLabel},i.a.createElement("input",{type:"radio",className:_.a.emailRadio,disabled:s||l,checked:!!o&&e.email===o.email,onChange:function(){return c(e)}}),i.a.createElement("span",{className:_.a.emailValue},!!e.hasAa&&"*",e.email),e.primary&&i.a.createElement("span",{className:_.a.primaryEmail},S("primary-label"))))})),H>0&&i.a.createElement("div",null,i.a.createElement("a",{href:"#",className:_.a.showMoreEmails,onClick:function(e){e.preventDefault(),O(!0)}},S("show-more-link",{amount:H}),i.a.createElement(v.a,{size:"small",dangerous_className:_.a.showMoreEmailsIcon})))),i.a.createElement("div",{className:_.a.buttons},i.a.createElement(b.a,{appearance:"primary",isDisabled:s||l,onClick:m},S("continue-button")),i.a.createElement(b.a,{onClick:I,isDisabled:s,ref:M},S("use-different-email")),i.a.createElement(y.b,j({},C,{title:S("use-different-email")}),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:_.a.popoverContent},S("remove-secondary-addresses-text"),i.a.createElement("a",{href:"https://help.trello.com/article/773-adding-account-credentials",target:"_blank"},S("remove-secondary-addresses-link-text")),l&&i.a.createElement(h.a,{small:!0,inline:!0,wrapperClassName:f()(_.a.spinner,_.a.floating)}),i.a.createElement(b.a,{appearance:"primary",onClick:z,isDisabled:l},S("remove-secondary-addresses-button"))))),s&&i.a.createElement(h.a,{small:!0,wrapperClassName:_.a.spinner})))},C=a("./app/src/components/EmailHygieneWizard/ClaimableEmailInfo.less"),I=a.n(C),M=Object(s.forNamespace)(["email hygiene wizard","claimable info screen"],{shouldEscapeStrings:!1}),z=function(e){var n=e.email,a=e.isSendingRequest,t=e.onDismiss,r=e.onClickConfirm,o=e.onClickBack,s=e.image,l=e.mobileImage,c=e.analyticsContext,m=e.analyticsSource,u=n.split("@")[1];return i.a.createElement(x,{closeDialog:t,title:M("title"),image:s,mobileImage:l,onKeyPressCapture:function(e){"Enter"!==e.key||a||r()},analyticsContext:c,analyticsSource:m},i.a.createElement("div",{className:I.a.content},i.a.createElement("div",{className:I.a.description},i.a.createElement("p",{className:I.a.mainMessage},M("main-message",{domain:i.a.createElement("strong",{key:"domain-main"},u)})),i.a.createElement("p",{className:I.a.mainMessage},M("secondary-message")),i.a.createElement("p",{className:I.a.mainMessage},M("secondary-message-continued",{domain:i.a.createElement("strong",{key:"domain-tertiary"},u)})),i.a.createElement("p",{className:I.a.mainMessage},M("tertiary-message",{email:i.a.createElement("strong",{key:"email-tertiary"},n)}))),i.a.createElement("div",{className:I.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:r,isDisabled:a},M("use-email-button")),i.a.createElement(b.a,{onClick:o,isDisabled:a},M("different-email-button")),a&&i.a.createElement(h.a,{small:!0,inline:!0,wrapperClassName:I.a.spinner}))))},D=a("./app/src/components/EmailHygieneWizard/ConfirmationEmailSent.less"),H=a.n(D),T=Object(s.forNamespace)(["email hygiene wizard","confirmation email sent screen"],{shouldEscapeStrings:!1}),L=function(e){var n=e.email,a=e.onDismiss,t=e.changeEmailButton,r=e.image,o=e.mobileImage,s=e.analyticsContext,l=e.analyticsSource;return i.a.createElement(x,{closeDialog:a,title:T("title"),image:r,mobileImage:o,analyticsContext:s,analyticsSource:l},i.a.createElement("p",{className:H.a.mainMessage},T("main-message",{email:i.a.createElement("strong",{key:"email"},n)})),i.a.createElement("p",null,T("secondary-message")),i.a.createElement("div",{className:H.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:a},T("ok-button")),t))},F=a("./packages/dates/index.ts"),B=a("./app/gamma/src/util/dates.ts"),R=a("./app/src/components/EmailHygieneWizard/ConfirmSingleEmail.less"),P=a.n(R),W=Object(s.forNamespace)(["email hygiene wizard","confirm single email screen"],{shouldEscapeStrings:!1}),V=function(e){var n=e.login,a=e.isSendingRequest,o=e.isSendingNewEmailRequest,s=e.isPopoverShown,l=e.onDismiss,c=e.onClickConfirm,m=e.changeEmailButton,u=e.image,d=e.mobileImage,p=e.analyticsContext,g=e.analyticsSource;return Object(t.useEffect)((function(){s&&r.Analytics.sendScreenEvent({name:"emailHygieneChangeEmailInlineDialog",attributes:p})}),[s,g,p]),i.a.createElement(x,{closeDialog:l,title:W("title"),image:u,mobileImage:d,onKeyPressCapture:function(e){"Enter"!==e.key||a||s||c()},analyticsContext:p,analyticsSource:g},W("main-message"),i.a.createElement("div",{className:P.a.singleEmailItem},i.a.createElement("div",{className:P.a.singleEmailValue},n.email),i.a.createElement("div",{className:P.a.singleEmailTimestamp},W("added-date",{date:Object(B.a)(Object(F.c)(n.id),new Date)}))),i.a.createElement("div",{className:P.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:c,isDisabled:a||o},W("use-email-button")),m,a&&i.a.createElement(h.a,{small:!0,inline:!0,wrapperClassName:P.a.spinner})))},G=a("./app/src/components/EmailHygieneWizard/ErrorMessage.less"),U=a.n(G),Q=Object(s.forNamespace)(["email hygiene wizard","error screen"],{shouldEscapeStrings:!1}),K=function(e){var n=e.onDismiss,a=e.onClickBack,t=e.image,r=e.mobileImage,o=e.analyticsContext,s=e.analyticsSource;return i.a.createElement(x,{closeDialog:n,title:Q("title"),image:t,mobileImage:r,isCentered:!0,analyticsContext:o,analyticsSource:s},i.a.createElement("h3",{className:U.a.errorMessage},Q("main-message")),i.a.createElement("p",null,Q("secondary-message")),i.a.createElement("div",{className:U.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:a},Q("start-over-button"))))},q=a("./app/src/components/EmailHygieneWizard/Intro.less"),Z=a.n(q),X=Object(s.forNamespace)(["email hygiene wizard","intro screen"],{shouldEscapeStrings:!1}),J=function(e){var n=e.onClickContinue,a=e.onDismiss,t=e.image,o=e.mobileImage,s=e.analyticsContext,l=e.analyticsSource,c=e.onSnooze;return i.a.createElement(x,{closeDialog:a,title:X("title"),image:t,mobileImage:o,analyticsContext:s,analyticsSource:l},i.a.createElement("p",{className:Z.a.mainMessage},X("main-message")),i.a.createElement("p",null,X("secondary-message"),"Â ",i.a.createElement("a",{href:"https://help.trello.com/article/1197-using-trello-with-an-atlassian-account",target:"_blank"},X("learn-more-link"))),i.a.createElement("p",{className:Z.a.mainMessage},X("tertiary-message")),i.a.createElement("div",{className:Z.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:n},X("continue-button")),c&&i.a.createElement(b.a,{onClick:function(){c&&(c(),r.Analytics.sendClickedButtonEvent({buttonName:"emailHygieneWizardDismissButton",source:l,attributes:s}))}},X("snooze-button"))))},Y=a("./app/src/components/EmailHygieneWizard/Success.less"),$=a.n(Y),ee=Object(s.forNamespace)(["email hygiene wizard","success screen"],{shouldEscapeStrings:!1}),ne=function(e){var n=e.email,a=e.onDismiss,t=e.image,r=e.mobileImage,o=e.analyticsContext,s=e.analyticsSource;return i.a.createElement(x,{closeDialog:a,title:ee("title"),image:t,mobileImage:r,analyticsContext:o,analyticsSource:s},i.a.createElement("p",{className:$.a.mainMessage},ee("main-message",{email:i.a.createElement("strong",{key:"email"},n)})),i.a.createElement("p",null,ee("secondary-message",{yourProfileLink:i.a.createElement("a",{href:"/me",key:"profile-link"},ee("your-profile-link"))})),i.a.createElement("div",{className:$.a.buttons},i.a.createElement(b.a,{appearance:"primary",onClick:a},ee("done-button"))))},ae=a("./app/src/components/EmailHygieneWizard/emailHygieneOneTimeMessageIds.ts"),te=a("./app/src/components/EmailHygieneWizard/EmailHygieneWizard.less"),ie=a.n(te);function re(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function oe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?re(Object(a),!0).forEach((function(n){se(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function se(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function le(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ce(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ce(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function me(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function ue(e){return function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){me(r,t,i,o,s,"next",e)}function s(e){me(r,t,i,o,s,"throw",e)}o(void 0)}))}}var de,pe={intro:{full:a("./resources/images/email-hygiene-wizard/illustration-atlassian.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-atlassian-mobile.svg")},main:{full:a("./resources/images/email-hygiene-wizard/illustration-main.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-main-mobile.svg")},email:{full:a("./resources/images/email-hygiene-wizard/illustration-email.svg"),mobile:a("./resources/images/aa-migration-wizard/illustration-email-mobile.svg")},success:{full:a("./resources/images/email-hygiene-wizard/illustration-ok.svg"),mobile:a("./resources/images/email-hygiene-wizard/illustration-ok-mobile.svg")}};!function(e){e.INTRO="intro",e.CHOOSE_EMAIL="chooseEmail",e.CONFIRM_SINGLE_EMAIL="confirmSingleEmail",e.CONFIRMATION_EMAIL_SENT="confirmationEmailSent",e.CLAIMABLE_INFO="claimableInfo",e.SUCCESS="success",e.ERROR="error",e.MIGRATION="migration"}(de||(de={}));var ge=Object(s.forNamespace)(["email hygiene wizard","dialog"],{shouldEscapeStrings:!1}),fe=function(){var e=ue(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(n);case 2:if(!(null==(a=e.sent)?void 0:a.ok)){e.next=5;break}return e.abrupt("return",a.text());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),be=new Map,ve=function(e,n,a){var t="".concat(e,"-").concat(n||"","-").concat(a||""),i=be.get(t);if(i)return i;var r=document.createElement("div");return r.className=ie.a.illustration,be.set(t,r),fe(e).then((function(e){e&&(r.innerHTML=e,function(e,n,a){var t=e.querySelector(".replace-avatar");if(a)t&&t.setAttribute("xlink:href","".concat(a,"/170.png"));else{if(n){var i=e.querySelector(".replace-initials");i&&(i.innerHTML=n)}t&&t.remove()}}(r,n,a))})),r},ye=function(e){var n,a=e.analyticsContext,s=e.name,g=e.avatarUrl,f=e.initials,b=e.logins,v=e.hasTwoFactor,y=e.hasCompletedHygiene,h=e.isUndismissable,k=e.onComplete,E=e.onDismiss,x=e.onSnooze,A=le(Object(t.useState)(null),2),_=A[0],j=A[1],w=le(Object(t.useState)(!1),2),O=w[0],S=w[1],C=le(Object(t.useState)(de.INTRO),2),I=C[0],M=C[1],D=le(Object(t.useState)(c.b.None),2),H=D[0],T=D[1],F=le(Object(t.useState)(),2),B=F[0],R=F[1],P=le(Object(t.useState)(""),2),W=P[0],G=P[1],U=!!B,Q=Object(o.useFeatureFlag)("aa4a.peh-show-aa-emails",!1),q=le(Object(p.a)(),2),Z=q[0],X=q[1],Y=Object(t.useCallback)((function(e){return ve(e,f,g)}),[f,g]);Object(t.useEffect)((function(){Y(pe.main.full),Y(pe.email.full),Y(pe.success.full),Y(pe.main.mobile),Y(pe.email.mobile),Y(pe.success.mobile)})),Object(t.useEffect)((function(){if(!U){var e=b.find((function(e){return e.primary}))||b[0];R(e)}}),[U,b]),Object(t.useEffect)((function(){Q&&(null==b?void 0:b.length)>1&&!(X.loading||X.data||X.error)&&Z()}),[Q,X,Z,b]);var $=(null==X||null===(n=X.data)||void 0===n?void 0:n.atlassianAccounts)||[],ee=b.map((function(e,n){return oe({},e,{hasAa:$.some((function(n){return n.email.toLowerCase()===e.email.toLowerCase()}))})})),te=le(Object(d.a)(),2),ie=te[0],re=te[1],se=le(Object(d.a)(),2),ce=se[0],me=se[1],fe=le(Object(u.a)(),2),be=fe[0],ye=fe[1],he=le(Object(t.useState)(!1),2),ke=he[0],Ee=he[1],xe=I;xe!==de.CHOOSE_EMAIL&&xe!==de.CONFIRM_SINGLE_EMAIL||(xe=b.length>1?de.CHOOSE_EMAIL:de.CONFIRM_SINGLE_EMAIL),Object(t.useEffect)((function(){y&&(M(de.MIGRATION),we())}),[]);var Ae=function(e){switch(e){case de.INTRO:return"emailHygieneAtlassianTrelloScreen";case de.CHOOSE_EMAIL:return"emailHygieneChooseEmailScreen";case de.CLAIMABLE_INFO:return"emailHygieneClaimableWarningScreen";case de.CONFIRMATION_EMAIL_SENT:return"emailHygieneConfirmationSentScreen";case de.CONFIRM_SINGLE_EMAIL:return"emailHygieneConfirmEmailScreen";case de.MIGRATION:return"emailHygieneAaMigrationScreen";case de.ERROR:return"emailHygieneErrorScreen";case de.SUCCESS:return"emailHygieneThanksScreen";default:return"unknown"}}(xe);Object(t.useEffect)((function(){r.Analytics.sendScreenEvent({name:Ae,attributes:a})}),[Ae,a]);var _e=function(e){R(e),r.Analytics.sendUIEvent({action:"clicked",actionSubject:"radioButton",actionSubjectId:"emailHygieneWizardEmailItem",source:Ae,attributes:a})},je=Object(t.useCallback)((function(){k(),r.Analytics.sendClosedComponentEvent({componentType:"overlay",componentName:"emailHygieneWizard",source:Ae,attributes:a})}),[k,Ae,a]),we=function(){var e=ue(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,m.AtlassianAccountMigrationClient.migrate();case 3:(n=e.sent)?(j(n),M(de.MIGRATION)):M(de.SUCCESS),S(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){if(!B)throw new Error("No email selected");var e=b.filter((function(e){return e.id!==B.id})).map((function(e){return e.id}));ie({variables:{memberId:"me",primaryLoginId:B.id,removeLoginIds:e,dismissMessage:ae.b}}).then(we,(function(e){console.error("Failed to perform hygiene",e),M(de.ERROR)}))},Se=function(){if(!B)throw new Error("No email selected");B.claimable?M(de.CLAIMABLE_INFO):Oe()},Ne=function(){var e=ue(regeneratorRuntime.mark((function e(n){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=2;break}throw new Error("No email selected");case 2:return T(c.b.None),e.prev=3,e.next=6,be({variables:{loginId:B.id,email:n,dismissMessage:ae.a}});case 6:G(n),M(de.CONFIRMATION_EMAIL_SENT),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),t=e.t0.networkError?e.t0.networkError.message:e.t0.message,(i=Object(c.c)(t))?T(i):(console.error("Failed to change email",e.t0),M(de.ERROR));case 15:r.Analytics.sendClickedButtonEvent({buttonName:"emailHygieneWizardChangeEmailButton",source:"emailHygieneChangeEmailInlineDialog",attributes:oe({},a,{dialogScreen:Ae})});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}(),Ce=re.loading||O,Ie=i.a.createElement(l.a,{isDisabled:Ce,onTogglePopover:Ee,isSendingRequest:ye.loading,onSubmitEmail:Ne,emailError:H},ge("change-email")),Me=h?void 0:E,ze=h?void 0:x;switch(xe){case de.INTRO:return i.a.createElement(J,{image:Y(pe.intro.full),mobileImage:Y(pe.intro.mobile),onDismiss:Me,onClickContinue:function(){return M(de.CHOOSE_EMAIL)},analyticsContext:a,analyticsSource:Ae,onSnooze:ze});case de.CHOOSE_EMAIL:return i.a.createElement(N,{name:s,image:Y(pe.main.full),mobileImage:Y(pe.main.mobile),onDismiss:Me,logins:ee,isSendingRequest:Ce,onClickConfirm:Se,selectedLogin:B,onSelectLogin:_e,isSendingRemoveEmailsRequest:me.loading,onRemoveSecondaryEmails:function(){if(!B)throw new Error("No email selected");var e=b.filter((function(e){return e.id!==B.id})).map((function(e){return e.id}));ce({variables:{memberId:"me",primaryLoginId:B.id,removeLoginIds:e}}).then((function(){return M(de.CONFIRM_SINGLE_EMAIL)}),(function(e){console.error("Failed to perform hygiene",e),M(de.ERROR)}))},analyticsContext:a,analyticsSource:Ae});case de.CONFIRM_SINGLE_EMAIL:return i.a.createElement(V,{name:s,image:Y(pe.main.full),mobileImage:Y(pe.main.mobile),onDismiss:Me,isSendingRequest:Ce,isSendingNewEmailRequest:ye.loading,isPopoverShown:ke,onSelectLogin:_e,login:b[0],onClickConfirm:Se,changeEmailButton:Ie,analyticsContext:a,analyticsSource:Ae});case de.CLAIMABLE_INFO:return i.a.createElement(z,{image:Y(pe.main.full),mobileImage:Y(pe.main.mobile),onDismiss:Me,isSendingRequest:Ce,email:B.email,onClickConfirm:Oe,onClickBack:function(){return M(de.CHOOSE_EMAIL)},analyticsContext:a,analyticsSource:Ae});case de.CONFIRMATION_EMAIL_SENT:return i.a.createElement(L,{image:Y(pe.email.full),mobileImage:Y(pe.email.mobile),onDismiss:je,changeEmailButton:Ie,email:W,analyticsContext:a,analyticsSource:Ae});case de.ERROR:return i.a.createElement(K,{onDismiss:E,onClickBack:function(){return M(de.CHOOSE_EMAIL)},analyticsContext:a,analyticsSource:Ae});case de.SUCCESS:return i.a.createElement(ne,{image:Y(pe.success.full),mobileImage:Y(pe.success.mobile),onDismiss:je,email:B.email,analyticsContext:a,analyticsSource:Ae});case de.MIGRATION:return i.a.createElement(m.AtlassianAccountMigrationDialog,{onDismiss:E,changeEmailButton:Ie,hasTwoFactor:v,email:B.email,analyticsContext:a,migrationResponse:_});default:return null}};n.default=ye},"./app/src/components/EmailHygieneWizard/EmailHygieneWizardQuery.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmailHygieneWizard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twoFactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}}]}}]}}]};function r(e){return t.c(i,e)}},"./app/src/components/EmailHygieneWizard/ErrorMessage.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ErrorMessage.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/Intro.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/Intro.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/PrepMemberForEmailHygiene.generated.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return r}));var t=a("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrepMemberForEmailHygiene"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"primaryLoginId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"removeLoginIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dismissMessage"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prepMemberForEmailHygiene"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"primaryLoginId"},value:{kind:"Variable",name:{kind:"Name",value:"primaryLoginId"}}},{kind:"Argument",name:{kind:"Name",value:"removeLoginIds"},value:{kind:"Variable",name:{kind:"Name",value:"removeLoginIds"}}},{kind:"Argument",name:{kind:"Name",value:"dismissMessage"},value:{kind:"Variable",name:{kind:"Name",value:"dismissMessage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}]};function r(e){return t.b(i,e)}},"./app/src/components/EmailHygieneWizard/Success.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/Success.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/EmailHygieneWizard/emailHygieneOneTimeMessageIds.ts":function(e,n,a){"use strict";a.d(n,"b",(function(){return t})),a.d(n,"a",(function(){return i}));var t="primary-email-hygiene",i="peh-change-email"},"./app/src/components/EmailHygieneWizard/emailHygieneRedirect.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){var e=encodeURIComponent("".concat(window.location.pathname,"?onboarding=success"));window.location.replace("".concat(window.location.origin,"/").concat("atlassian-account/redirect","?returnUrl=").concat(e))}},"./app/src/components/EmailHygieneWizard/emailHygieneStorageIds.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t="removed-secondary-emails"},"./app/src/components/EmailHygieneWizard/index.ts":function(e,n,a){"use strict";a.r(n),a.d(n,"EmailHygieneBannerWrapper",(function(){return F})),a.d(n,"EmailHygieneBanner",(function(){return s.a})),a.d(n,"EmailHygieneWizard",(function(){return B.EmailHygieneWizard})),a.d(n,"HYGIENE_MESSAGE_ID",(function(){return O.b})),a.d(n,"CHANGE_EMAIL_MESSAGE_ID",(function(){return O.a}));var t,i=a("./node_modules/react/index.js"),r=a.n(i),o=a("./packages/feature-flag-client/index.ts"),s=a("./app/src/components/EmailHygieneWizard/EmailHygieneBanner.tsx"),l=a("./node_modules/classnames/index.js"),c=a.n(l),m=a("./packages/atlassian-analytics/index.ts"),u=a("./packages/storage/index.ts"),d=a("./node_modules/@atlaskit/logo/dist/esm/AtlassianLogo/Icon.js"),p=a("./packages/colors/index.ts"),g=a("./packages/nachos/button.ts"),f=a("./packages/nachos/spinner.ts"),b=a("./packages/nachos/popover.ts"),v=a("./packages/dates/index.ts"),y=a("./packages/use-lazy-component/index.ts"),h=a("./app/common/lib/util/i18n/index.ts"),k=a("./app/src/components/ChangeEmailButton/index.ts"),E=a("./app/src/components/EmailError/index.ts"),x=a("./app/common/components/banner/banner.tsx"),A=a("./app/src/components/Overlay/index.ts"),_=a("./app/src/components/EmailHygieneWizard/PrepMemberForEmailHygiene.generated.tsx"),j=a("./app/src/components/EmailHygieneWizard/EmailHygieneChangeEmailMutation.generated.tsx"),w=a("./app/src/components/EmailHygieneWizard/EmailHygieneWizardQuery.generated.tsx"),O=a("./app/src/components/EmailHygieneWizard/emailHygieneOneTimeMessageIds.ts"),S=a("./app/src/components/EmailHygieneWizard/emailHygieneStorageIds.ts"),N=a("./app/src/components/EmailHygieneWizard/v2/EmailHygieneBanner.less"),C=a.n(N),I=a("./app/src/components/EmailHygieneWizard/emailHygieneRedirect.ts");function M(){return(M=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function z(e,n,a,t,i,r,o){try{var s=e[r](o),l=s.value}catch(e){return void a(e)}s.done?n(l):Promise.resolve(l).then(t,i)}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return H(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return H(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}var T=Object(h.forNamespace)(["email hygiene wizard v2","banner"],{shouldEscapeStrings:!1}),L=function(e){var n,s,l=e.forceShow,h=e.hasCompletedHygiene,N=Object(y.useLazyComponent)((function(){return a.e(48).then(a.bind(null,"./app/src/components/EmailHygieneWizard/v2/EmailHygieneWizard.tsx"))})),H=D(Object(_.a)(),2),L=H[0],F=H[1],B=D(Object(j.a)(),2),R=B[0],P=B[1],W=D(Object(i.useState)(!1),2),V=W[0],G=W[1],U=D(Object(i.useState)(!1),2),Q=U[0],K=U[1],q=D(Object(i.useState)(h),2),Z=q[0],X=q[1],J=D(Object(i.useState)(!1),2),Y=J[0],$=J[1],ee=D(Object(i.useState)(E.b.None),2),ne=ee[0],ae=ee[1],te=D(Object(i.useState)(""),2),ie=te[0],re=te[1],oe=Object(b.e)({onShow:function(){m.Analytics.sendScreenEvent({name:"emailHygieneRemoveSecondaryEmailsInlineDialog",attributes:t})}}),se=oe.popoverProps,le=oe.toggle,ce=oe.triggerRef,me=Object(o.useFeatureFlag)("aa4a.show-email-hygiene",!1),ue=Object(o.useFeatureFlag)("aaaa.peh-meta-redirection",!1),de=Object(w.a)({variables:{memberId:"me"}}),pe=de.data&&de.data.member,ge=pe&&Array.from(null==pe?void 0:pe.logins)||[],fe=ge.filter((function(e){return!!e.primary}))[0],be=ge.filter((function(e){return!e.primary})),ve=!!ge&&ge.length>1;Object(i.useEffect)((function(){var e;if(null==pe?void 0:pe.logins){var n=!!(null===(e=pe.oneTimeMessagesDismissed)||void 0===e?void 0:e.includes(O.a)),a=pe.logins.sort((function(e,n){return e.id.localeCompare(n.id)}))[0],t=a?(Date.now()-Object(v.c)(a.id).valueOf())/1e3/60/60/24:0;l?G(!0):t<=7&&!n?G(!1):(n||me)&&G(!0)}}),[pe,l,me]),Object(i.useEffect)((function(){F.loading?K(!0):K(!1)}),[F]);var ye=Object(i.useCallback)((function(){if(!fe)throw new Error("No primary login");return L({variables:{memberId:"me",primaryLoginId:fe.id,removeLoginIds:be.map((function(e){return e.id})),dismissMessage:O.b}}).then((function(e){ve&&u.TrelloStorage.set(S.a,1),X(!0),ue?Object(I.a)():$(!0)}),(function(e){console.error("Failed to perform hygiene",e)}))}),[fe,be,L,ve,ue]),he=Object(i.useCallback)((function(e){e.preventDefault(),ye().then(le),m.Analytics.sendClickedButtonEvent({buttonName:"emailHygieneWizardRemoveSecondaryEmailsButton",source:"emailHygieneRemoveSecondaryEmailsInlineDialog",attributes:t})}),[ye,le]),ke=Object(i.useCallback)((function(e){e.preventDefault(),ve?le():ye(),m.Analytics.sendClickedButtonEvent({buttonName:"useThisEmailButton",source:"emailHygieneBanner",attributes:t})}),[le,ye,ve]),Ee=Object(i.useCallback)((function(e){e.preventDefault(),$(!0),m.Analytics.sendClickedButtonEvent({buttonName:"connectAccountButton",source:"emailHygieneBanner",attributes:t})}),[]),xe=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe){e.next=2;break}throw new Error("No primary login");case 2:return ae(E.b.None),e.prev=3,e.next=6,R({variables:{loginId:fe.id,email:n,dismissMessage:O.a}});case 6:re(n),$(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),a=e.t0.networkError?e.t0.networkError.message:e.t0.message,(i=Object(E.c)(a))?ae(i):console.error("Failed to change email",e.t0);case 15:m.Analytics.sendClickedButtonEvent({buttonName:"sendConfirmationEmailButton",source:"emailHygieneChangeEmailInlineDialog",attributes:t});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})),function(){var n=this,a=arguments;return new Promise((function(t,i){var r=e.apply(n,a);function o(e){z(r,t,i,o,s,"next",e)}function s(e){z(r,t,i,o,s,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),Ae=Object(i.useCallback)((function(e){e.preventDefault(),de.refetch(),$(!0),m.Analytics.sendClickedButtonEvent({buttonName:"changeEmailButton",source:"emailHygieneBanner",attributes:t})}),[de]),_e=Object(i.useCallback)((function(e){e?(m.Analytics.sendClickedButtonEvent({buttonName:"changeEmailButton",source:"emailHygieneBanner",attributes:t}),m.Analytics.sendScreenEvent({name:"emailHygieneChangeEmailInlineDialog",attributes:t})):m.Analytics.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"emailHygieneChangeEmailInlineDialog",source:"emailHygieneBanner",attributes:t})}),[]);ge&&ge.sort((function(e,n){return(n.primary?1:0)-(e.primary?1:0)||n.id.localeCompare(e.id)})),!t&&pe&&(t={organizationId:null,totalEmailAddresses:null==ge?void 0:ge.length,totalClaimableEmailAddresses:null==ge?void 0:ge.filter((function(e){return e.claimable})).length}),Object(i.useEffect)((function(){V&&m.Analytics.sendViewedBannerEvent({bannerName:"emailHygieneBanner",source:Object(m.getScreenFromUrl)(),attributes:t})}),[V]);var je,we,Oe=function(){var e,n,a=r.a.createElement(g.a,{appearance:"primary",className:C.a.button,isDisabled:Q,ref:ce,onClick:ke},T("confirm-email-button")),t=r.a.createElement(g.a,{appearance:"primary",className:C.a.button,isDisabled:Q,ref:ce,onClick:Ee},T("connect-account-button")),i=T("change-email-button"),o=r.a.createElement(k.a,{appearance:"subtle-link",isDisabled:Q,onTogglePopover:_e,isSendingRequest:P.loading,isPopoverVisible:!Y&&null,onSubmitEmail:xe,emailError:ne},i),s=r.a.createElement(g.a,{appearance:"subtle-link",isDisabled:Q,onClick:Ae},i),l=Z?t:a,m=ve?s:o;return r.a.createElement("div",{className:C.a.actions},l,ve&&(e=be.map((function(e){var n=e.email;return r.a.createElement("li",{key:n},n)})),n=r.a.createElement(g.a,{appearance:"danger",isDisabled:Q,shouldFitContainer:!0,onClick:he},T("remove-secondary-emails")),r.a.createElement(b.b,M({},se,{title:T("remove-secondary-emails")}),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:C.a.popoverContent},r.a.createElement("p",null,T("remove-secondary-emails-text")," ",r.a.createElement("a",{href:"https://help.trello.com/article/773-adding-account-credentials",target:"_blank"},T("remove-secondary-emails-link-text"))),r.a.createElement("p",null,T("remove-secondary-emails-text-list")),r.a.createElement("ul",null,e),n)))),!Z&&m,Q&&r.a.createElement(f.a,{inline:!0,small:!0,wrapperClassName:c()(C.a.spinner)}))};return pe&&ge?r.a.createElement("div",null,V&&(je=(null==pe?void 0:pe.email)||"unknown",we=Z?T("connect-account-message"):T("confirm-email-message",{email:r.a.createElement("strong",{key:je},je)}),r.a.createElement(x.a,{className:C.a.banner,bannerColor:p.Yellow50,alignCloseTop:!0,shadow:!0},r.a.createElement("div",{className:C.a.bannerContent},r.a.createElement("span",{className:C.a.logo},r.a.createElement(d.a,{iconColor:p.AtlassianBlue200,iconGradientStart:p.AtlassianBlue400,iconGradientStop:p.AtlassianBlue200})),r.a.createElement("p",{className:C.a.title},T("title")),r.a.createElement("p",{className:C.a.message},we),Oe()))),Y&&r.a.createElement(A.a,{background:A.c.LIGHT,closeOnEscape:!1,onClose:function(){},alignment:A.b.TOP},r.a.createElement(i.Suspense,{fallback:null},r.a.createElement(N,{logins:ge,name:pe.fullName||pe.username,hasTwoFactor:!!(null===(n=pe.prefs)||void 0===n||null===(s=n.twoFactor)||void 0===s?void 0:s.enabled),hasCompletedHygiene:Z,avatarUrl:pe.avatarUrl||void 0,initials:pe.initials||void 0,pendingEmail:ie||void 0,onDismiss:function(){return $(!1)},analyticsContext:t,onComplete:function(){G(!1),$(!1)}})))):null},F=function(e){return Object(o.useFeatureFlag)("aaaa.email-hygiene-v2-design",!1)?r.a.createElement(L,e):r.a.createElement(s.a,e)},B=a("./app/src/components/EmailHygieneWizard/EmailHygieneWizard.tsx")},"./app/src/components/EmailHygieneWizard/useSnooze.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a("./packages/storage/index.ts");function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function s(e,n){var a=r(Object(t.useState)(!1),2),o=a[0],s=a[1],l=Object(t.useCallback)((function(){var a=!1,t=i.TrelloStorage.get(e);if(t){var r=1e3*n,o=parseInt(t,10);r&&o&&o+r>Date.now()?(a=!0,setTimeout((function(){l()}),r+1e3)):i.TrelloStorage.unset(e)}s(a)}),[e,n]);return Object(t.useEffect)((function(){l()}),[l]),{isSnoozed:o,snooze:Object(t.useCallback)((function(){n>0&&(i.TrelloStorage.set(e,Date.now().toString()),l())}),[e,n,l])}}},"./app/src/components/EmailHygieneWizard/v2/EmailHygieneBanner.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/v2/EmailHygieneBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/Overlay/Overlay.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Overlay/Overlay.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/Overlay/index.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return y})),a.d(n,"c",(function(){return t})),a.d(n,"b",(function(){return i}));var t,i,r=a("./node_modules/react/index.js"),o=a.n(r),s=a("./node_modules/classnames/index.js"),l=a.n(s),c=a("./packages/keybindings/index.ts"),m=a("./app/src/components/LayerManager/index.ts"),u=a("./app/src/components/Overlay/Overlay.less"),d=a.n(u),p=a("./packages/layer-manager/index.ts");function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],t=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);t=!0);}catch(e){i=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw r}}return a}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}!function(e){e.LIGHT="light",e.DARK="dark"}(t||(t={})),function(e){e.TOP="top"}(i||(i={}));var v=function(){},y=function(e){var n=e.background,a=void 0===n?t.LIGHT:n,s=e.alignment,u=e.className,b=void 0===u?"":u,y=e.closeOnEscape,h=e.closeOnOutsideClick,k=void 0===h||h,E=e.onClose,x=void 0===E?v:E,A=e.children,_=f(Object(p.useCallbackRef)(),2),j=_[0],w=_[1],O=Object(r.useCallback)((function(){y&&x()}),[y,x]);Object(c.useShortcut)(O,{scope:c.Scope.Overlay,key:c.Key.Escape});var S=Object(r.useCallback)((function(e){e.defaultPrevented||x()}),[x]),N=Object(p.getHighestVisibleElevation)();return Object(p.useClickOutsideHandler)({element:j,handleClickOutside:S,skip:!k}),o.a.createElement(m.b,{layer:m.c.Overlay},o.a.createElement("div",{className:l()({[d.a.alignTop]:s===i.TOP},d.a.overlay,d.a[a],b)},o.a.createElement("div",g({ref:w,className:d.a.contents},{[p.ELEVATION_ATTR]:N+1}),A)))}},"./app/src/components/Wizard/Dialog.less":function(e,n,a){var t=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=a("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Wizard/Dialog.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};t(i,r);e.exports=i.locals||{}},"./app/src/components/Wizard/index.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return u}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/icons/close.tsx"),o=a("./packages/nachos/button.ts"),s=a("./node_modules/classnames/index.js"),l=a.n(s),c=a("./app/src/components/Wizard/Dialog.less"),m=a.n(c),u=function(e){var n=e.title,a=e.tip,s=e.children,c=e.closeDialog,u=e.isCentered,d=e.image,p=e.mobileImage,g=e.onKeyPressCapture,f=e.imageClassName,b=Object(t.useRef)(null),v=Object(t.useRef)(null);return Object(t.useEffect)((function(){b.current&&d&&b.current.appendChild(d),v.current&&p&&v.current.appendChild(p)}),[]),i.a.createElement("div",{tabIndex:0,ref:function(e){return e&&e.focus()},className:l()(m.a.wrapper,u?m.a.centered:void 0),onKeyPressCapture:g},i.a.createElement("div",{className:l()(m.a.dialog,u?m.a.centeredDialog:void 0)},p&&i.a.createElement("div",{className:m.a.illustrationMobile,ref:v}),i.a.createElement("div",{className:m.a.controls},c&&i.a.createElement(o.a,{iconBefore:i.a.createElement(r.a,{size:"large"}),className:m.a.icon,onClick:c})),i.a.createElement("div",{className:d?m.a.contentWithImage:m.a.contentWithoutImage},i.a.createElement("header",{className:m.a.header},i.a.createElement("h2",{className:m.a.title},n)),i.a.createElement("div",null,s)),i.a.createElement("div",{className:l()(m.a.illustrationFull,f),ref:b})),a&&i.a.createElement("div",{className:m.a.tip},i.a.createElement("span",{role:"img","aria-label":"tip"},"ðŸ’¡"),i.a.createElement("span",null,a)))}},"./node_modules/@atlaskit/logo/dist/esm/AtlassianLogo/Icon.js":function(e,n,a){"use strict";var t=a("./node_modules/tslib/tslib.es6.js"),i=a("./node_modules/react/index.js"),r=a.n(i),o=a("./node_modules/react-uid/dist/es2015/index.js"),s=a("./node_modules/@atlaskit/logo/dist/esm/constants.js"),l=a("./node_modules/@atlaskit/logo/dist/esm/Wrapper.js"),c=function(e,n){var a=Object(o.a)({iconGradientStart:n});return'<canvas height="32" width="32" aria-hidden="true"></canvas>\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="50%" x2="50%" y1="-17.724%" y2="85.598%" id="'+a+'">\n        <stop stop-color="'+e+'" '+("inherit"===e?'stop-opacity="0.4"':"")+' offset="0%"></stop>\n        <stop stop-color="'+n+'" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path d="M15.3919738,2.47536112 C12.1140721,7.66880375 12.3303344,13.4206726 14.4894164,17.7389677 L18.4247607,25.6099185 C18.5435803,25.8472956 18.7860721,25.9971972 19.0515148,25.9971972 L27.2130885,25.9971972 C27.5999738,25.9971972 27.9136787,25.6836234 27.9136787,25.296607 C27.9136787,25.1878857 27.8883672,25.080607 27.8397115,24.9832956 C27.8397115,24.9832956 16.8599082,3.0204103 16.5835803,2.47090211 C16.3367607,1.97896768 15.7093508,1.97227916 15.3919738,2.47536112" fill="currentColor"></path>\n      <path d="M9.93632602,13.3906651 L4.07411881,25.1153419 C4.02453136,25.214648 4.00065592,25.3199886 4,25.4238861 L4,25.4332001 C4.00183657,25.6884836 4.14338381,25.9335348 4.38738555,26.0555357 C4.48472387,26.1042049 4.59216334,26.1295233 4.70091465,26.1295233 L12.8650027,26.1295233 C13.132224,26.1358202 13.3779311,25.9840406 13.4917986,25.7420066 C15.2522842,22.1023141 14.1857605,16.5683286 11.0938912,13.2648599 C10.9303051,13.0902544 10.7250026,13 10.5271775,13 C10.2924898,13 10.0681657,13.1269858 9.93632602,13.3906651" fill="url(#'+a+')"></path>\n    </g>\n  </svg>'},m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(t.__extends)(n,e),n.prototype.render=function(){return r.a.createElement(l.a,Object(t.__assign)({},this.props,{svg:c}))},n.defaultProps=s.a,n}(i.Component);n.a=m},"./node_modules/@atlaskit/logo/dist/esm/Wrapper.js":function(e,n,a){"use strict";var t,i,r=a("./node_modules/tslib/tslib.es6.js"),o=a("./node_modules/react/index.js"),s=a.n(o),l=a("./node_modules/styled-components/dist/styled-components.browser.es.js"),c=a("./node_modules/@atlaskit/logo/dist/esm/constants.js"),m=l.default.span(i||(i=Object(r.__makeTemplateObject)(["\n  color: ",";\n  display: inline-block;\n  fill: ",";\n  height: ","px;\n  position: relative;\n  user-select: none;\n\n  > svg {\n    fill: inherit;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n  > canvas {\n    display: block;\n    height: 100%;\n    visibility: hidden;\n  }\n  ",";\n"],["\n  color: ",";\n  display: inline-block;\n  fill: ",";\n  height: ","px;\n  position: relative;\n  user-select: none;\n\n  > svg {\n    fill: inherit;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n  > canvas {\n    display: block;\n    height: 100%;\n    visibility: hidden;\n  }\n  ",";\n"])),(function(e){return e.iconColor}),(function(e){return e.textColor}),(function(e){return e.size&&c.b[e.size]}),(function(e){return"inherit"===e.iconGradientStart&&"inherit"===e.iconGradientStop&&Object(l.css)(t||(t=Object(r.__makeTemplateObject)(["\n      /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n      * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n      * rule) and then override it with currentColor for the color changes to be picked up.\n      */\n      stop {\n        stop-color: currentColor;\n      }\n    "],["\n      /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n      * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n      * rule) and then override it with currentColor for the color changes to be picked up.\n      */\n      stop {\n        stop-color: currentColor;\n      }\n    "])))}));n.a=function(e){var n=e.label,a=e.svg,t=Object(r.__rest)(e,["label","svg"]);return s.a.createElement(m,Object(r.__assign)({"aria-label":n||void 0,role:n?"img":"presentation",dangerouslySetInnerHTML:{__html:"function"==typeof a?a(String(t.iconGradientStart),String(t.iconGradientStop)):a}},t))}},"./node_modules/@atlaskit/logo/dist/esm/constants.js":function(e,n,a){"use strict";a.d(n,"a",(function(){return t})),a.d(n,"b",(function(){return i}));var t={iconColor:"inherit",textColor:"currentColor",iconGradientStart:"inherit",iconGradientStop:"inherit",size:"medium",label:""},i={xsmall:16,small:24,medium:32,large:40,xlarge:48}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBanner.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".ARNGDsKAGimPc4{padding:0;text-align:center;background-color:#172b4d}._37PirlDOIrPmtl{color:#dfe1e6;line-height:32px;margin:0}._37PirlDOIrPmtl ._2Ui1vfPxUmLVE9,._37PirlDOIrPmtl a{color:#97a0af;margin-left:8px}",""]),n.locals={banner:"ARNGDsKAGimPc4",text:"_37PirlDOIrPmtl",linkSeparator:"_2Ui1vfPxUmLVE9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationBannerV2.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".G_2r616vSGowpB{border-bottom:1px solid #f5ea92;padding:0}._1UwVXKLPQxFyeM{margin:0 auto;max-width:720px;padding:16px 16px 16px 50px;position:relative;text-align:left}.MrmBAFvkHIPUh6{font-weight:700}._2ztlDQa57mLu0p{overflow:hidden;position:absolute;height:32px;left:8px;top:14px;width:32px}",""]),n.locals={bannerV2:"G_2r616vSGowpB",bannerContent:"_1UwVXKLPQxFyeM",title:"MrmBAFvkHIPUh6",logo:"_2ztlDQa57mLu0p"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/AtlassianAccountMigrationDialog.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2MFVHpV217GCHj{display:flex;flex:1;flex-direction:column;max-height:328px}._2MFVHpV217GCHj ._3sLQlMM6P8oo3a{display:flex;flex-direction:column;overflow-y:auto}._2MFVHpV217GCHj ._1x64zZzP8Mz61Z{margin-top:30px}._2MFVHpV217GCHj ._1x64zZzP8Mz61Z button{margin-right:8px}._35N0BdYfxtmSB4{word-wrap:break-word}@media only screen and (max-width:1020px){._5Gv97pnlDCJV-g{width:100%;min-width:375px}}",""]),n.locals={content:"_2MFVHpV217GCHj",description:"_3sLQlMM6P8oo3a",buttons:"_1x64zZzP8Mz61Z",breakable:"_35N0BdYfxtmSB4",illustration:"_5Gv97pnlDCJV-g"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/EmailMigrationDialog.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._170SlABekR4EXR{display:flex;flex:1;flex-direction:column;max-height:328px}._170SlABekR4EXR ._3wLbEWns1EGwzv{display:flex;flex-direction:column;overflow-y:auto}._170SlABekR4EXR ._3zmxQX5L53ho8O{margin-top:30px}._170SlABekR4EXR ._3zmxQX5L53ho8O button{margin-right:8px}._1FEc5Bq2jIecvj{word-wrap:break-word}@media only screen and (max-width:1020px){.LdzHprbQluLCRz{width:100%;min-width:375px}}._1ZvZ34YLUVLeEL strong{overflow-wrap:break-word}",""]),n.locals={content:"_170SlABekR4EXR",description:"_3wLbEWns1EGwzv",buttons:"_3zmxQX5L53ho8O",breakable:"_1FEc5Bq2jIecvj",illustration:"LdzHprbQluLCRz",mainMessage:"_1ZvZ34YLUVLeEL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationCreateDialog.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2ymOz3CXRrNoay{display:flex;flex:1;flex-direction:column;max-height:328px}._2ymOz3CXRrNoay ._1ogiSu-ViBGQTg{display:flex;flex-direction:column;overflow-y:auto}._2ymOz3CXRrNoay ._2SBWqXrtxgzpwZ{margin-top:30px}._2ymOz3CXRrNoay ._2SBWqXrtxgzpwZ button{margin-right:8px}._2iV-pjZfiroJwJ{word-wrap:break-word}@media only screen and (max-width:1020px){._2Dq5fYHDXzBnit{width:100%;min-width:375px}}",""]),n.locals={content:"_2ymOz3CXRrNoay",description:"_1ogiSu-ViBGQTg",buttons:"_2SBWqXrtxgzpwZ",breakable:"_2iV-pjZfiroJwJ",illustration:"_2Dq5fYHDXzBnit"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationLoading.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1JbbWofk95QSdy{display:flex;flex:1;flex-direction:column;max-height:328px}._1JbbWofk95QSdy ._12cFyIe8hwzf0f{display:flex;flex-direction:column;overflow-y:auto}._1JbbWofk95QSdy .H_887vvZynJk0p{margin-top:30px}._1JbbWofk95QSdy .H_887vvZynJk0p button{margin-right:8px}._3-bYFCMRw81wmY{word-wrap:break-word}@media only screen and (max-width:1020px){._1VANT3SlXUbxjv{width:100%;min-width:375px}}",""]),n.locals={content:"_1JbbWofk95QSdy",description:"_12cFyIe8hwzf0f",buttons:"H_887vvZynJk0p",breakable:"_3-bYFCMRw81wmY",illustration:"_1VANT3SlXUbxjv"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/InAppMigrationLoginDialog.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._52WGfyOmwk0ZJp{display:flex;flex:1;flex-direction:column;max-height:328px}._52WGfyOmwk0ZJp .KlT-VZ_2zFDnep{display:flex;flex-direction:column;overflow-y:auto}._52WGfyOmwk0ZJp .GWXQm6di5Fq94N{margin-top:30px}._52WGfyOmwk0ZJp .GWXQm6di5Fq94N button{margin-right:8px}.RD3M_FprbdKNIV{word-wrap:break-word}@media only screen and (max-width:1020px){._2nMJ84fTo057Kj{width:100%;min-width:375px}}",""]),n.locals={content:"_52WGfyOmwk0ZJp",description:"KlT-VZ_2zFDnep",buttons:"GWXQm6di5Fq94N",breakable:"RD3M_FprbdKNIV",illustration:"_2nMJ84fTo057Kj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountMigration/TwoFactorWarning.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._18hiu0nHQkyOyy{background-color:#faf3c0;margin:16px 0;padding:4px;border-radius:4px}._18hiu0nHQkyOyy p{margin:0;padding:8px}",""]),n.locals={twoFactorWarning:"_18hiu0nHQkyOyy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/AtlassianAutomaticMigrationBanner.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1fwfOVHG3WRTuF{min-height:50px;position:relative}._1fwfOVHG3WRTuF ._5SD7d5D80GYUoF{display:flex;margin-left:72px}._1fwfOVHG3WRTuF ._5SD7d5D80GYUoF button{margin:auto}.m0tVQH8GA9O8zK{display:flex;align-items:center}._1PNtqBHmvRooNe{object-fit:cover;position:absolute;height:100%;top:0;pointer-events:none}._1e4EiSPf9jLLUr{width:300px;left:0}._2Isk82vqUHlhrk{width:500px;right:0}._3qP_JpwL6um86M{display:flex;justify-content:center;align-items:center}._2HGqb71oYP5Hu1{color:#172b4d;font-size:14px;font-weight:400;line-height:20px;display:flex;max-width:90ch;margin:0}._2HGqb71oYP5Hu1 p{margin-top:8px}._5SD7d5D80GYUoF{flex:1}._5SD7d5D80GYUoF button{margin:0 0 0 24px}@media only screen and (max-width:1000px){._1fwfOVHG3WRTuF{background-position-x:-128px;padding-left:192px}._1e4EiSPf9jLLUr{left:-148px}}@media only screen and (max-width:800px){._1fwfOVHG3WRTuF{padding-left:26px}._1e4EiSPf9jLLUr{display:none}._2HGqb71oYP5Hu1{padding-right:0}}@media only screen and (max-width:600px){._2-ZUsl5Xs5L75z{margin-right:0}}",""]),n.locals={banner:"_1fwfOVHG3WRTuF",controls:"_5SD7d5D80GYUoF",automaticOnboardingMsg:"m0tVQH8GA9O8zK",waveImg:"_1PNtqBHmvRooNe",leftWaveImg:"_1e4EiSPf9jLLUr",rightWaveImg:"_2Isk82vqUHlhrk",container:"_3qP_JpwL6um86M",body:"_2HGqb71oYP5Hu1",content:"_2-ZUsl5Xs5L75z"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AtlassianAccountOnboardingBanner/AutomaticOnboarding/Overlays/AutoOnboardingOverlayManager.less":function(e,n,a){var t=a("./node_modules/css-loader/lib/url/escape.js");(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._6j84K7cxm2GhGo{display:flex;flex:1;flex-direction:column;max-height:350px}._6j84K7cxm2GhGo .aKIBi8JuCWlA0g{display:flex;flex-direction:column;overflow-y:auto}._21S4TQ6tNxE0wp{margin-top:30px}._21S4TQ6tNxE0wp button{margin-right:8px}._2vLPgXwufPVQLx{display:inline-block}._2vLPgXwufPVQLx._2Dg4yHfmXPY7zW{float:right}.coeuK_FnZx7bcY{position:absolute;padding:4px;width:200px;height:56px;top:232px;right:60px;background:#fff;text-overflow:ellipsis;z-index:100;overflow:hidden}.coeuK_FnZx7bcY p,.coeuK_FnZx7bcY span{max-width:100%;text-overflow:ellipsis;overflow:hidden;margin-bottom:0;white-space:nowrap}.coeuK_FnZx7bcY p{font-weight:500;font-size:16px;line-height:20px;letter-spacing:.256px;color:#172b4d}.coeuK_FnZx7bcY span{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.256px;color:#5e6c84}._1N7QfA93ovOy6U{position:absolute}._1N7QfA93ovOy6U div,._1N7QfA93ovOy6U image,._1N7QfA93ovOy6U svg{height:50%;position:relative}._3eG-qMU7KsyKmQ,.zmAA2dleBdBLQw{max-width:300px;margin-left:24px}._3eG-qMU7KsyKmQ li,.zmAA2dleBdBLQw li{word-break:break-word;margin:8px 0}.zmAA2dleBdBLQw{list-style-type:disc}._1_eNBrMPdJbGQx{max-width:335px}._3eG-qMU7KsyKmQ li{position:relative}._3eG-qMU7KsyKmQ li:before{content:"";background:url('+t(a("./resources/images/email-hygiene-wizard/icon-checkmark.svg"))+") 50% 50% no-repeat;display:inline-block;height:24px;left:-30px;position:absolute;top:-3px;width:24px}@media only screen and (max-width:1020px){.CaTLMxUyVpZOjn{width:100%;min-width:375px}._21S4TQ6tNxE0wp{text-align:center}.coeuK_FnZx7bcY{height:72px;width:204px;top:72px;right:124px}._1_eNBrMPdJbGQx,.zmAA2dleBdBLQw{max-width:none}}",""]),n.locals={content:"_6j84K7cxm2GhGo",description:"aKIBi8JuCWlA0g",buttons:"_21S4TQ6tNxE0wp",spinner:"_2vLPgXwufPVQLx",floating:"_2Dg4yHfmXPY7zW",profileInformation:"coeuK_FnZx7bcY",createPasswordImg:"_1N7QfA93ovOy6U",atlassianProfileBody:"zmAA2dleBdBLQw",atlassianConfirmationBody:"_3eG-qMU7KsyKmQ",createPasswordBody:"_1_eNBrMPdJbGQx",illustration:"CaTLMxUyVpZOjn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/ChangeEmailButton/ChangeEmailButton.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3Ix0WjhiPcwnS2{padding:12px;color:#5e6c84}._3Ix0WjhiPcwnS2 input{width:100%}._3Ix0WjhiPcwnS2 button{width:100%;margin:16px 0 0}.jdTcFpD3-nI6Sm{margin:16px 0 8px;font-weight:700;font-size:14px;color:#172b4d}._1NYql4rFP67pCj{margin:8px 0;font-weight:700;color:#b04632}",""]),n.locals={popoverContent:"_3Ix0WjhiPcwnS2",popoverLabel:"jdTcFpD3-nI6Sm",popoverError:"_1NYql4rFP67pCj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ChooseEmail.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1Dbb-l8DNDyVAN{display:flex;flex:1;flex-direction:column;max-height:350px}._1Dbb-l8DNDyVAN ._3-VHJ_kZ5G2dj3{display:flex;flex-direction:column;overflow-y:auto}._3Etz3HivVa2Zk5{margin-top:30px}._3Etz3HivVa2Zk5 button{margin-right:8px}._1T5hHwETtRj3Tm{display:inline-block}._1T5hHwETtRj3Tm._3MRtHlF2pTJIoE{float:right}@media only screen and (max-width:1020px){._2MSQJuPlNxzcnq{width:100%;min-width:375px}}._3f55SJ0Bgrj2sl{font-weight:600;margin-bottom:14px}._9a90bN-_o19zjH{margin-top:12px}._9a90bN-_o19zjH ._28jv3LsFVrifV3{font-size:12px;margin-bottom:0;color:#6b778c}.EI2cN8mmYjcC2z{color:#172b4d;font-weight:400;font-size:14px;display:inline-flex;cursor:pointer;margin-bottom:0;width:100%;flex-direction:row;align-items:center}input.VSYngck4pN55Ej{box-shadow:none;margin:0;-webkit-appearance:radio;appearance:radio;display:inline-block}.XFHcjFSq0Is-sY{display:inline-block;margin-left:10px;max-width:75%;overflow-wrap:break-word}._3TZtdwCpLr20xP{font-size:12px;color:#fff;background-color:#505f79;border-radius:4px;display:inline-block;margin-left:8px;padding:1px 5px}._3zhE8NzbRC03H6{display:inline-block;margin-top:12px;color:#5e6c84}._2QC1fTDOKnM7xW{margin-left:5px}._1nSR9KYJJionLL{padding:12px;color:#5e6c84}._1nSR9KYJJionLL a{display:inline-block;margin-left:5px;color:#172b4d}._1nSR9KYJJionLL button{width:100%;margin:16px 0 0}",""]),n.locals={content:"_1Dbb-l8DNDyVAN",description:"_3-VHJ_kZ5G2dj3",buttons:"_3Etz3HivVa2Zk5",spinner:"_1T5hHwETtRj3Tm",floating:"_3MRtHlF2pTJIoE",illustration:"_2MSQJuPlNxzcnq",highlightedMessage:"_3f55SJ0Bgrj2sl",emailList:"_9a90bN-_o19zjH",aaLegend:"_28jv3LsFVrifV3",emailLabel:"EI2cN8mmYjcC2z",emailRadio:"VSYngck4pN55Ej",emailValue:"XFHcjFSq0Is-sY",primaryEmail:"_3TZtdwCpLr20xP",showMoreEmails:"_3zhE8NzbRC03H6",showMoreEmailsIcon:"_2QC1fTDOKnM7xW",popoverContent:"_1nSR9KYJJionLL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ClaimableEmailInfo.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".t8VDpqjw9E5O9W{display:flex;flex:1;flex-direction:column;max-height:350px}.t8VDpqjw9E5O9W .HM8uxHzKixMeaH{display:flex;flex-direction:column;overflow-y:auto}._3XQYq9mYX4B3Ue{margin-top:30px}._3XQYq9mYX4B3Ue button{margin-right:8px}._3JCflh3VaFQlZE{display:inline-block}._3JCflh3VaFQlZE._3SiiPGhC7KhlLO{float:right}@media only screen and (max-width:1020px){._1kfYlxui8ROGy3{width:100%;min-width:375px}}._1WrF7j-8jTcRuC strong{overflow-wrap:break-word}",""]),n.locals={content:"t8VDpqjw9E5O9W",description:"HM8uxHzKixMeaH",buttons:"_3XQYq9mYX4B3Ue",spinner:"_3JCflh3VaFQlZE",floating:"_3SiiPGhC7KhlLO",illustration:"_1kfYlxui8ROGy3",mainMessage:"_1WrF7j-8jTcRuC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ConfirmSingleEmail.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1Tlr67Z5M2Owop{display:flex;flex:1;flex-direction:column;max-height:350px}._1Tlr67Z5M2Owop ._3jHjdJOzkISiRV{display:flex;flex-direction:column;overflow-y:auto}._2VPOsy_tM57dvF{margin-top:30px}._2VPOsy_tM57dvF button{margin-right:8px}._3ydrIfjSikXRym{display:inline-block}._3ydrIfjSikXRym.kuRuh4w5gcw_V6{float:right}@media only screen and (max-width:1020px){._1mweaQbKcE7MuW{width:100%;min-width:375px}}._2J50ANpW8e-aZO{padding:16px;background-color:#fafbfc;border:2px solid #dfe1e6;margin-top:16px;margin-bottom:16px;border-radius:3px}._1ChMXJ4xMBcLkN{font-size:14px;line-height:20px;overflow-wrap:break-word}._2FTSsStl-UH4bC{color:#5e6c84;font-size:12px;line-height:16px}",""]),n.locals={content:"_1Tlr67Z5M2Owop",description:"_3jHjdJOzkISiRV",buttons:"_2VPOsy_tM57dvF",spinner:"_3ydrIfjSikXRym",floating:"kuRuh4w5gcw_V6",illustration:"_1mweaQbKcE7MuW",singleEmailItem:"_2J50ANpW8e-aZO",singleEmailValue:"_1ChMXJ4xMBcLkN",singleEmailTimestamp:"_2FTSsStl-UH4bC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ConfirmationEmailSent.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1EL7YFf08eoGe2{display:flex;flex:1;flex-direction:column;max-height:350px}._1EL7YFf08eoGe2 ._3HzVvHL1KdmG_u{display:flex;flex-direction:column;overflow-y:auto}.BIext9ryQRbBt4{margin-top:30px}.BIext9ryQRbBt4 button{margin-right:8px}._2yRoW8hK-N6IvF{display:inline-block}._2yRoW8hK-N6IvF._1_nXIP1kuszIo_{float:right}@media only screen and (max-width:1020px){._1-a1sqQI-Z91oT{width:100%;min-width:375px}}._2BIoixnIuL9BgC strong{overflow-wrap:break-word}",""]),n.locals={content:"_1EL7YFf08eoGe2",description:"_3HzVvHL1KdmG_u",buttons:"BIext9ryQRbBt4",spinner:"_2yRoW8hK-N6IvF",floating:"_1_nXIP1kuszIo_",illustration:"_1-a1sqQI-Z91oT",mainMessage:"_2BIoixnIuL9BgC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/EmailHygieneBanner.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3_IIx3qL7PLWV0{padding:0;text-align:center;background-color:#172b4d}.y713MCtKnRL7Xv{color:#dfe1e6;line-height:32px;margin:0}.y713MCtKnRL7Xv ._3DtarySw4qn2vr,.y713MCtKnRL7Xv a{color:#97a0af;margin-left:8px}",""]),n.locals={banner:"_3_IIx3qL7PLWV0",text:"y713MCtKnRL7Xv",linkSeparator:"_3DtarySw4qn2vr"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/EmailHygieneWizard.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".dU2gVxeagnL3cT{display:flex;flex:1;flex-direction:column;max-height:350px}.dU2gVxeagnL3cT .kdj-Rh-tvV6_ci{display:flex;flex-direction:column;overflow-y:auto}.IsTLO2IuSBhwU8{margin-top:30px}.IsTLO2IuSBhwU8 button{margin-right:8px}.yFdUt7IDPmJ-DH{display:inline-block}.yFdUt7IDPmJ-DH._2fxjU1CxRuHoG9{float:right}@media only screen and (max-width:1020px){._1Afz8SdJ11Curv{width:100%;min-width:375px}}",""]),n.locals={content:"dU2gVxeagnL3cT",description:"kdj-Rh-tvV6_ci",buttons:"IsTLO2IuSBhwU8",spinner:"yFdUt7IDPmJ-DH",floating:"_2fxjU1CxRuHoG9",illustration:"_1Afz8SdJ11Curv"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/ErrorMessage.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._294FtkOLxs4S9e{display:flex;flex:1;flex-direction:column;max-height:350px}._294FtkOLxs4S9e .xKmvmzV3nRUnXf{display:flex;flex-direction:column;overflow-y:auto}._1zKmhZ3mkDSKuk{margin-top:30px}._1zKmhZ3mkDSKuk button{margin-right:8px}.HvMeQqpPzz7UCs{display:inline-block}.HvMeQqpPzz7UCs._18D85L9mNV6Opx{float:right}@media only screen and (max-width:1020px){.YxNo9pN46bRPQ2{width:100%;min-width:375px}}._10SUbZGkSYwm4H{margin-bottom:18px;font-size:20px;font-weight:500}",""]),n.locals={content:"_294FtkOLxs4S9e",description:"xKmvmzV3nRUnXf",buttons:"_1zKmhZ3mkDSKuk",spinner:"HvMeQqpPzz7UCs",floating:"_18D85L9mNV6Opx",illustration:"YxNo9pN46bRPQ2",errorMessage:"_10SUbZGkSYwm4H"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/Intro.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._38unXsueph04lU{display:flex;flex:1;flex-direction:column;max-height:350px}._38unXsueph04lU ._2tzXKTVY_zD3i6{display:flex;flex-direction:column;overflow-y:auto}._1KPkYH_Sb0kcfh{margin-top:30px}._1KPkYH_Sb0kcfh button{margin-right:8px}._1QRgyQHD0lL8Wh{display:inline-block}._1QRgyQHD0lL8Wh._2Z97cfyLc5VTad{float:right}@media only screen and (max-width:1020px){._12RMJUudVAKIRT{width:100%;min-width:375px}}",""]),n.locals={content:"_38unXsueph04lU",description:"_2tzXKTVY_zD3i6",buttons:"_1KPkYH_Sb0kcfh",spinner:"_1QRgyQHD0lL8Wh",floating:"_2Z97cfyLc5VTad",illustration:"_12RMJUudVAKIRT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/Success.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2FreGpDnaUoCqJ{display:flex;flex:1;flex-direction:column;max-height:350px}._2FreGpDnaUoCqJ ._30Ggbi1HrPNpvT{display:flex;flex-direction:column;overflow-y:auto}._3vJq2deHZJWJrv{margin-top:30px}._3vJq2deHZJWJrv button{margin-right:8px}._1ZXbN5V9v_yHEm{display:inline-block}._1ZXbN5V9v_yHEm._2zWN4ypN7CD4bk{float:right}@media only screen and (max-width:1020px){._3x4GInExLo0xNd{width:100%;min-width:375px}}.ae-gMVDoFT_AD4 strong{overflow-wrap:break-word}",""]),n.locals={content:"_2FreGpDnaUoCqJ",description:"_30Ggbi1HrPNpvT",buttons:"_3vJq2deHZJWJrv",spinner:"_1ZXbN5V9v_yHEm",floating:"_2zWN4ypN7CD4bk",illustration:"_3x4GInExLo0xNd",mainMessage:"ae-gMVDoFT_AD4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/EmailHygieneWizard/v2/EmailHygieneBanner.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3_IIx3qL7PLWV0{border-bottom:1px solid #f5ea92}._39tWivMApa5lkR{margin:0 auto;max-width:720px;padding:16px 16px 16px 50px;position:relative;text-align:left}._3-IjGo1DPRheIG{font-weight:700}._28OAjP2Zvp79y_{overflow:hidden;position:absolute;height:32px;left:8px;top:14px;width:32px}._2YKaPe_lLfeMXw{display:inline-block;margin-left:8px}.zF2boE7OdUkOtY ul{list-style:disc;margin:8px 0;padding-left:24px}",""]),n.locals={banner:"_3_IIx3qL7PLWV0",bannerContent:"_39tWivMApa5lkR",title:"_3-IjGo1DPRheIG",logo:"_28OAjP2Zvp79y_",spinner:"_2YKaPe_lLfeMXw",popoverContent:"zF2boE7OdUkOtY"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Overlay/Overlay.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".mBpHYwCdk1ETAw{align-items:center;box-sizing:border-box;display:flex;height:100vh;justify-content:center;overflow:auto;width:100vw}._32SBWPAMFn2zR_{background:rgba(0,0,0,.6)}._2umAI1Blayj0Cg{background:rgba(0,0,0,.75)}._2Kmle_Ne77Dt2c{background:transparent;position:relative;margin:48px 0;width:auto}._2Kmle_Ne77Dt2c:focus{outline:none}._2ddgKgxwLGcW0X{align-items:flex-start}@media only screen and (max-width:750px){._2Kmle_Ne77Dt2c{width:100%}}",""]),n.locals={overlay:"mBpHYwCdk1ETAw",light:"_32SBWPAMFn2zR_",dark:"_2umAI1Blayj0Cg",contents:"_2Kmle_Ne77Dt2c",alignTop:"_2ddgKgxwLGcW0X"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Wizard/Dialog.less":function(e,n,a){(n=e.exports=a("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3XTAaFlVLSkqZW:focus{outline:none}._3XTAaFlVLSkqZW p{margin-bottom:14px}._34MSBjfhRdZwkH{text-align:center}._23htW0zw7Fh0u8{background-color:#fff;border-radius:3px;overflow:hidden;position:relative;width:800px;height:512px;margin-left:auto;margin-right:auto;background-position-x:right;background-position-y:top;background-attachment:scroll;background-repeat:no-repeat;background-size:contain}._3f0PRaNG8v_WYf{display:flex;flex-direction:column;justify-content:center}._1bqe6MFA1Z77u_{position:absolute;top:0;right:0;z-index:1}._3u7GXQGXlz420s{margin-right:50%;padding-left:32px;height:100%;display:flex;flex-direction:column;justify-content:center;overflow-y:auto}._1cJrvQo-iHk3oC{padding:56px;overflow-y:auto}._1LktQ02-2VeLvt{padding-bottom:16px}.k24q3mQs1b7j36{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;font-weight:500;margin:0;overflow:hidden;text-overflow:ellipsis}.q_QVtEzsp5HAIe{background-color:transparent;border:none;box-shadow:none;margin:4px 8px auto;border-radius:50%}.q_QVtEzsp5HAIe:hover{background-color:rgba(9,30,66,.08);box-shadow:none}.q_QVtEzsp5HAIe:hover>span svg{color:#091e42!important}.q_QVtEzsp5HAIe:active{background-color:rgba(9,30,66,.13);box-shadow:none}.q_QVtEzsp5HAIe:active>span svg{color:#091e42!important}._30h9fcpGSdmON7{position:absolute;top:0;right:0;max-width:50%}._1J8hdgwG0DWCLl{display:none}._3HXZB4LZrQBkoA{color:#fff;text-align:center;background-color:hsla(0,0%,100%,.1);padding:8px;margin:8px auto 0;border-radius:3px;font-size:12px;max-width:800px;box-sizing:border-box}._3HXZB4LZrQBkoA a{color:#fff}@media only screen and (max-width:1020px){._23htW0zw7Fh0u8{width:510px;background-image:none!important;max-width:100vw;height:auto;min-height:512px}._3u7GXQGXlz420s{margin-right:0;padding:36px 24px;display:block}._2qXbPbZZZ71sPi{margin-right:0}._30h9fcpGSdmON7{display:none}._1J8hdgwG0DWCLl{display:flex;align-items:center;justify-content:center;height:200px;overflow:hidden}}",""]),n.locals={wrapper:"_3XTAaFlVLSkqZW",centered:"_34MSBjfhRdZwkH",dialog:"_23htW0zw7Fh0u8",centeredDialog:"_3f0PRaNG8v_WYf",controls:"_1bqe6MFA1Z77u_",contentWithImage:"_3u7GXQGXlz420s",contentWithoutImage:"_1cJrvQo-iHk3oC",header:"_1LktQ02-2VeLvt",title:"k24q3mQs1b7j36",icon:"q_QVtEzsp5HAIe",illustrationFull:"_30h9fcpGSdmON7",illustrationMobile:"_1J8hdgwG0DWCLl",tip:"_3HXZB4LZrQBkoA",content:"_2qXbPbZZZ71sPi"}},"./node_modules/react-uid/dist/es2015/index.js":function(e,n,a){"use strict";a.d(n,"a",(function(){return t}));var t=function(){var e=1,n=new WeakMap,a=function(t,i){return"number"==typeof t||"string"==typeof t?i?"idx-"+i:"val-"+t:n.has(t)?"uid"+n.get(t):(n.set(t,e++),a(t))};return a}()},"./resources/images/aa-migration-wizard/illustration-email-mobile.svg":function(e,n,a){e.exports=a.p+"images/aa-migration-wizard/illustration-email-mobile.289099c187e0cc1861ee.svg"},"./resources/images/aa-migration-wizard/illustration-email.svg":function(e,n,a){e.exports=a.p+"images/aa-migration-wizard/illustration-email.f5bfd1f807d345c61e4c.svg"},"./resources/images/aa-migration-wizard/illustration-main-mobile.svg":function(e,n,a){e.exports=a.p+"images/aa-migration-wizard/illustration-main-mobile.96fd917d55a2c050023c.svg"},"./resources/images/aa-migration-wizard/illustration-main.svg":function(e,n,a){e.exports=a.p+"images/aa-migration-wizard/illustration-main.968c85b9654c45e45c81.svg"},"./resources/images/email-hygiene-wizard/icon-checkmark.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/icon-checkmark.9223fafaf2e6cedb06b7.svg"},"./resources/images/email-hygiene-wizard/illustration-atlassian-mobile.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-atlassian-mobile.71eadc4e284264ed78ca.svg"},"./resources/images/email-hygiene-wizard/illustration-atlassian.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-atlassian.b54ec6dd8119bef4d213.svg"},"./resources/images/email-hygiene-wizard/illustration-email-mismatch-mobile.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-email-mismatch-mobile.eb359d721ec7b9e5a10f.svg"},"./resources/images/email-hygiene-wizard/illustration-email-mismatch.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-email-mismatch.362e9fd3945a7b5d63ca.svg"},"./resources/images/email-hygiene-wizard/illustration-email.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-email.f5bfd1f807d345c61e4c.svg"},"./resources/images/email-hygiene-wizard/illustration-main-mobile.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-main-mobile.9f9250216dde6717c4b8.svg"},"./resources/images/email-hygiene-wizard/illustration-main.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-main.f756d71fba7720da42f0.svg"},"./resources/images/email-hygiene-wizard/illustration-ok-mobile.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-ok-mobile.ea040e21ea69624e720b.svg"},"./resources/images/email-hygiene-wizard/illustration-ok.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-ok.918fe795af7239acb0e1.svg"},"./resources/images/email-hygiene-wizard/illustration-password-mobile.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-password-mobile.48259ce869c8c0cdc26d.svg"},"./resources/images/email-hygiene-wizard/illustration-password.svg":function(e,n,a){e.exports=a.p+"images/email-hygiene-wizard/illustration-password.9937c7ab24b364b91166.svg"},"./resources/images/onboarding-banner/banner-wave-left.svg":function(e,n,a){e.exports=a.p+"images/onboarding-banner/banner-wave-left.6dd6d2cc65ed2748a4d0.svg"},"./resources/images/onboarding-banner/banner-wave-right.svg":function(e,n,a){e.exports=a.p+"images/onboarding-banner/banner-wave-right.08e4434dee2e3b7730b3.svg"}}]);
//# sourceMappingURL=atlassian-account-migration-stage-banners.c8b713f98bc2ba6b588c.js.map